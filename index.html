<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="robots" content="noindex">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">
    
    <title>REal TIme GeOspatial Data Viewer | EMVL | US EPA</title>
    
    <script type="text/javascript" src="external/tether.min.js"></script>

    <!-- Bootstrap core CSS -->
    <!--link href="external/bootstrap-4.0.0-alpha.2/dist/css/bootstrap.min.css" rel="stylesheet"-->
    <link href="external/bootstrap-4.0.0-alpha.5-dist/css/bootstrap.min.css" rel="stylesheet">

    <script src="external/jquery-1.12.4.js"></script>
    <!--script src="external/bootstrap-4.0.0-alpha.2/dist/js/bootstrap.min.js"></script-->
    <script src="external/bootstrap-4.0.0-alpha.5-dist/js/bootstrap.min.js"></script>

    
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!--link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet"-->
    
    <!-- Custom styles for this template -->
    <link href="external/bootstrap-4.0.0-alpha.2/docs/examples/jumbotron/jumbotron.css" rel="stylesheet">


    <link rel="stylesheet" type="text/css" href="css/symbols_conc.css" />
    <link rel="stylesheet" type="text/css" href="css/symbols_purpleair.css" />
    <!--link rel="stylesheet" type="text/css" href="symbols_mysensor.css" /-->
    <link rel="stylesheet" type="text/css" href="css/symbols_mysensor1.css" />
    <link rel="stylesheet" type="text/css" href="css/symbols_mysensor2.css" />
    <link rel="stylesheet" type="text/css" href="css/symbols_mysensor3.css" />
    <link rel="stylesheet" type="text/css" href="css/symbols_mysensor4.css" />
    <link rel="stylesheet" type="text/css" href="css/symbols_mysensor5.css" />
    <link rel="stylesheet" type="text/css" href="css/symbols_pm25_balloon.css" />
    <link rel="stylesheet" type="text/css" href="css/symbols_pm10_balloon.css" />
    <link rel="stylesheet" type="text/css" href="css/symbols_ozone_balloon.css" />
    <link rel="stylesheet" type="text/css" href="css/symbols_no2_balloon.css" />
    <link rel="stylesheet" type="text/css" href="css/symbols_so2_balloon.css" />
    <link rel="stylesheet" type="text/css" href="css/symbols_co_balloon.css" />
    <link rel="stylesheet" type="text/css" href="css/symbols_wind_bluered.css" />
    <link rel="stylesheet" type="text/css" href="css/symbols_wind_stdgamma2.css" />
    <link rel="stylesheet" type="text/css" href="css/symbols_wind_stdgamma2_inverted.css" />
    <link rel="stylesheet" type="text/css" href="css/symbols_wind_bluemono.css" />
    <link rel="stylesheet" type="text/css" href="css/symbols_wind_viridis.css" />
    <link rel="stylesheet" type="text/css" href="css/symbols_wind_viridis_inverted.css" />
    <link rel="stylesheet" type="text/css" href="css/symbols_wind_colorsafe.css" />
    <link rel="stylesheet" type="text/css" href="css/symbols_wind_colorsafe_inverted.css" />
    <link rel="stylesheet" type="text/css" href="css/analysis.css" />
    <link rel="stylesheet" type="text/css" href="css/navbar.css" />
    <link rel="stylesheet" type="text/css" href="css/plotControls.css" />
    <link rel="stylesheet" type="text/css" href="css/busy3.css">
    <link rel="stylesheet" type="text/css" href="css/obscurefont.css">
    <link rel="stylesheet" type="text/css" href="css/playPauseControls.css">
    <link rel="stylesheet" type="text/css" href="css/emvlDropdown.css">
    <link rel="stylesheet" type="text/css" href="css/emvlSettings.css">

    <!-- preload images -->
    <!--
    <link rel="preload" href="images/settings_selected.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_missing.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_00.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_01.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_02.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_03.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_04.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_05.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_06.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_07.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_08.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_09.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_10.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_11.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_12.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_13.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_14.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_15.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_16.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_17.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_18.png" as="image">
    <link rel="preload" href="images/airnow_balloons/pm25_balloon_stdgamma2/pm25_balloon_19.png" as="image">
    -->



    
    
    <!--link rel="stylesheet" type="text/css" href="tooltip/style.css" /-->
    <!--script src="tooltip/script.js"></script-->

<script src="emvlMap.js"></script>

<!--script type="text/javascript" src="https://maps.google.com/maps/api/js?v=3.34&key=AIzaSyAGx2-K7FfvtEkN5vet1g67jqhafIoHaZw"></script-->
    <script type="text/javascript" src="https://maps.google.com/maps/api/js?v=3.47&key=AIzaSyAGx2-K7FfvtEkN5vet1g67jqhafIoHaZw&callback=mapLoaded&language=en"></script>
    
    <script src="FastMarkerOverlayMJF.js"></script>
    <script src="external/fast-marker-overlay/maps-v3/src/FastMarkerOverlay.js"></script>

    <!-- needed to make colorbar -->
    <script src="external/wz_jsgraphics.js"></script>
    
    <!--script type="text/javascript" src="external/jquery-1.8.2.js"></script-->
    <link type="text/css" href="external/jquery-ui-1/css/ui-lightness/jquery-ui-1.8.24.custom.css" rel="stylesheet" />
    <script type="text/javascript" src="external/jquery-ui-1/js/jquery-1.8.2.min.js"></script>
    <script type="text/javascript" src="external/jquery-ui-1/js/jquery-ui-1.8.24.custom.min.js"></script>
    
    <script language="javascript" type="text/javascript" src="external/flot/flot_0.8.1/emvl_jquery.flot.js"></script>
    <script language="javascript" type="text/javascript" src="external/flot/flot_0.8.1/jquery.flot.time.js"></script>
    <script language="javascript" type="text/javascript" src="external/flot/flot_0.8.1/jquery.flot.symbol.js"></script>
    <script language="javascript" type="text/javascript" src="external/flot/flot_0.8.1/jquery.flot.errorbars.js"></script>
    <script language="javascript" type="text/javascript" src="external/flot/flot_0.8.1/jquery.flot.selection.js"></script>
    <script language="javascript" type="text/javascript" src="external/flot/flot-axislabels-master/jquery.flot.axislabels.js"></script>
    <script language="javascript" type="text/javascript" src="external/html2canvas.js"></script>
    
    <!-- for KML support -->
    <script type="text/javascript" src="external/geoxml3-read-only/geoxml3.js"></script>
    <script type="text/javascript" src="external/geoxml3-read-only/ProjectedOverlay.js"></script>
    
    <script type="text/javascript" src="external/simple-expand.js"></script>
    <script type="text/javascript" src="external/FileSaver.js"></script>
    <script type="text/javascript" src="external/jszip/dist/jszip.js"></script>
    
    <!-- for VIPER -->
    <!--script type="text/javascript" src="viperload.js"></script-->


    <!-- my functions -->
    <script src="read_userfile.js"></script>
    <script src="get_airnow.js"></script>
    <script src="get_surfmet.js"></script>
    <script src="get_mysensor.js"></script>
    <script src="make_colorbar.js"></script>
    <script src="date_handler.js"></script>
    <script src="where.js"></script>
    <script src="myslider.js"></script>
    <script src="zerofill.js"></script>
    <script src="unique.js"></script>
    <script src="inputValidator.js"></script>
    <script src="retigo_main.js"></script>
    <script src="data_repository.js"></script>
    <script src="emvlOverlay.js"></script>
    <script src="emvlDialog.js"></script>
    <script src="truecolor.js" ></script>
    <script src="cookie.js"></script>
    <script src="compute_stats.js"></script>
    <script src="dataFlagger.js"></script>
    <script src="objectExport.js"></script>
    
<body leftmargin="2" topmargin="0" style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);" marginheight="0" marginwidth="2" height="100%">
  <div id="content" style="position:relative;margin:20px;">
    <nav class="navbar navbar-static-top navbar-custom">
      <a class="navbar-brand" style="height:100%;width:auto;padding:0px" target="_blank" href="https://www.epa.gov"><img src="images/epa_logo_horizontal_transparent_white.png"></a>
      <button class="navbar-toggler hidden-sm-up pull-xs-right" type="button" data-toggle="collapse" data-target="#collapsingNavbar2">
        &#9776;
      </button>
      <div class="collapse navbar-collapse navbar-toggleable-xs" id="collapsingNavbar2">
        <div class="btn-group" role="group" aria-label="...">
          <a style="font-family:'Times New Roman';font-size:13pt;" class="btn btn-primary nav-button" target="_blank" href="https://www.epa.gov/hesc/real-time-geospatial-data-viewer-retigo">RETIGO Home</a>
          <a style="font-family:'Times New Roman';font-size:13pt;" class="btn btn-primary nav-button" href="index.html">Data Entry</a><span class="sr-only">(current)</span>
          <div class="btn-group dropdown">
            <a style="font-family:'Times New Roman';font-size:13pt;" class="btn btn-primary dropdown-toggle" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Tutorials
            </a>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton" >
              <a style="font-family:'Times New Roman';font-size:13pt;" class="dropdown-item" target="_blank" href="https://www.epa.gov/hesc/real-time-geospatial-retigo-tutorials">How to use RETIGO</a>
              <a style="font-family:'Times New Roman';font-size:13pt;" class="dropdown-item" target="_blank" href="https://www.epa.gov/hesc/tutorial-create-retigo-file-excel-spreadsheet">Example file creation</a>
            </div>
          </div>
          <a style="font-family:'Times New Roman';font-size:13pt;" class="btn btn-primary nav-button" target="_blank" href="http://www2.epa.gov/hesc/real-time-geospatial-data-viewer-frequently-asked-questions">FAQs</a>
          <a style="font-family:'Times New Roman';font-size:13pt;" class="btn btn-primary nav-button" href="mailto:retigo@epa.gov?subject=RETIGO feedback">Contact/Feedback</a>
        </div>
      </div>
    </nav>

	<!-- the remaining div, body, head, and html tags will be closed in bootstrap_footer.html -->
      <!--/div-->
    <!--/body-->
  <!-- /head -->   
<!-- /html -->
<!--#include file="bootstrap_header.html" -->
      



      <!-- BEGIN PAGE NAME -->
      <div id="title_RetigoDataEntry" style="display:none">
	<br>
	<h3>RETIGO Data Entry</h3>
      </div>
      <div id="title_Retigo" style="display:none">
	<br>
	<h3>RETIGO Viewer</h3>
      </div>
      
      <!-- END PAGE NAME -->
      <!-- BEGIN CONTENT AREA -->
      
	
	<div id="retigo_paragraph1" style="display:none">
	  <p>RETIGO is a free, web-based tool that is optimized to visualize air quality data collected while in motion (walking, biking, or on a vehicle).  It is intended to be used by anyone to explore their collected data and can also optionally bring in data from nearby air quality and meteorological stations. Enter your data file below, or visit the <a target="_blank" href="https://www.epa.gov/hesc/real-time-geospatial-retigo-tutorials">tutorial page</a> for help in getting started.</p>
	  
	  Problems running RETIGO? Try clearing your browser cache and restarting.
	</div>
	
	<!--div class="col-md-8 col-md-pull-4" id="retigo_paragraph2" style="display:none"-->
	<div class="col-md-12" id="retigo_paragraph2" style="display:none">
	  <p><br>RETIGO can be used by anyone to explore the data that they collected. To collect the data, monitoring equipment is needed and ranges in price from ten dollar sensors up to professional grade equipment costing tens of thousands of dollars. EPA's <a target="_blank" href="https://www.epa.gov/air-sensor-toolbox/air-sensor-performance-targets-and-testing-protocols">Air Sensor Toolbox</a> site has an array of information on emerging technologies for air monitoring.<br><br> 
	    
	    RETIGO reads plain text files, which can be either comma or space delimited. The data columns must be in a form that RETIGO can understand. Enter your data file below, or visit the <a target="_blank" href="https://www.epa.gov/hesc/real-time-geospatial-retigo-tutorials">tutorial page</a> for help in getting started. General information about RETIGO can be found on the <a target="_blank" href="https://www.epa.gov/hesc/real-time-geospatial-data-viewer-retigo">RETIGO website</a>.
	    
	    Problems running RETIGO? Try clearing your browser cache and restarting.
	  </p>

          <script>
          //<div style="background-color:#FFFF00;border:1px solid black;overflow:hidden">
          //  <center>
          //  <a target="_blank" href="https://www.eventbrite.com/e/tutorial-on-epas-retigo-tool-wwwepagovretigo-tickets-57445238254">Please join us for a free one hour web-based tutorial on April 16-17, 2019</a>. 
          //  </center>
          //</div>
          </script>

	</div>

	<!--div id="retigo_paragraph2_sideimage" class="col-md-4"><center><a href="http://www.epa.gov/sites/production/files/2016-01/documents/retigo-fact-sheet3.pdf"><img align="top" class="featurette-image img-fluid center-block" src="images/retigo_fact_sheet_small.png"></a></center></div-->

	

	<br>
	
      
      <!--#include file="retigo_1.html" -->
      
      
      <!-- END CONTENT -->
      
      
      <!--#include file="bootstrap_footer.html" -->
<script>
  var runId = 0;var instrId = 0;var sensorName = 0;viperLoaded=false;
</script>

<style>
.content {display:none;}
#container.expanded .expander {
  padding-left: 13px;
  background-position: left center;
  background-repeat: no-repeat;
  background-image: url(images/expanded.gif);
}

#container.collapsed .expander {
  padding-left: 13px;
  background-position: left center;
  background-repeat: no-repeat;
  background-image: url(images/collapsed.gif);
}
</style>

<style>
#feedbackButton, #feedbackAreaDiv {
  padding: 5px;
  text-align: center;
  background-color: #e5eecc;
  border: solid 1px #c3c3c3;
  z-index:1000;
}

#feedbackAreaDiv {
  padding: 50px;
  display: none;
  z-index:1000;
}
</style>

<!-- use "display:none" in div_dataDisplay to prevent seeing it load -->
<div id="div_dataDisplay" style="display:none;width:100%;height:80%">

  <div style="display:block; overflow:hidden; height:35px;pointer-events:none">

    <button id="button_back" style="float:left;z-index:30000!important;pointer-events:auto" type="button" class="btn btn-outline-primary btn-sm" onclick='back();'>&larr; View another data file</button>
    <button id="export_cferst" style="float:left;z-index:30000!important;pointer-events:auto" type="button" class="btn btn-outline-primary btn-sm" onclick='export_cferst();'>Export GIS file</button>
    <button id="export_kml" style="float:left;z-index:30000!important;pointer-events:auto" type="button" class="btn btn-outline-primary btn-sm" onclick='launch_export_kml_dialog();'>Export KML file</button>
    <div style="position:absolute;width:100%;text-align:center">
      <!--input type="button" Value="&larr; Look at another data file" title="Quit viewing the current data and load a different file" id="button_back" size=60 onclick="back()"></input-->
      <!--input type="button" Value="Export GIS file" id="export_cferst" title="Export data in Community-Focused Exposure and Risk Screening Tool format" size=60 onclick="export_cferst()"></input-->
<!--input type="button" value="Print" onClick="makeScreenshot()"-->


<span style="display:inline-block">  
  <span style="pointer-events:auto" class="emvlPlayPause" id="stepBackwardButton" onclick="changeTimeSlider(-1)"><img src="images/step-backward.png" width="20"></span>
  <span style="pointer-events:auto" class="emvlPlayPause" id="playPauseButton" onclick="playPauseClicked()"><img id="playPauseButtonImage" src="images/play.png" width="20"></span>
  <span style="pointer-events:auto" class="emvlPlayPause" id="stepForwardButton" onclick="changeTimeSlider(1)"><img src="images/step-forward.png" width="20"></span>
</span>
    
  </div>
</div>



  <div id="div_printarea" style="font-size:14px;display:block;width:100%;height:80%">

     <!-- Dialogs for alerting users about specific actions -->
     <div id="dialog-confirm-viirs" style="display:none;z-index:30000!important">
       Due to the complexity and size of satellite data, it may take several minutes to finish loading one day's worth of data. Please be patient.
     </div>

     <div id="dialog-scatterplot-correction" style="display:none;z-index:30000!important">
       <!-- text will be added dynamically in export_scatterplot_correction() -->
     </div>

     <div id="dialog-scatterplot-hourly" style="display:none;z-index:30000!important">
       Data in the scatterplot is automatically aggregated to the hour. To ensure consistency between the scatterplot and the timeseries plot, be sure to check the timeseries plot's "Hourly" option.
     </div>

     <div id="dialog-export-kml" style="display:none;z-index:30000!important;">
       Before your file is exported, we need to ask a couple of questions about your data.<br><br>
       Was your data collected above ground level?&nbsp;&nbsp;&nbsp;
       <span id="dialog-export-kml-msl-yesno">
         <input type="radio" name="kml-export-radio" id="kml-export-yes" onclick="process_kml_export_radio_aboveground(this)";        ><label>Yes</label>
         <input type="radio" name="kml-export-radio" id="kml-export-no"  onclick="process_kml_export_radio_aboveground(this)"; checked><label>No</label><br><br>
       </span>
       <div id="dialog-export-kml-msl-selectordiv" style="display:none">
         Which variable, if any, contains altitudes above mean sea level in meters?
       </div><br>
       <div id="dialog-export-kml-groundlevel-selectordiv" style="display:none">
         Which variable, if any, contains altitudes above ground level in meters?
       </div><br>
       <div id="dialog-export-kml-colorbarsize-selectordiv" style="display:block">
         Choose a colorbar size:
       </div><br>
      
     </div>

     <div id="dialog-merge-filestreams" style="display:none;z-index:30000!important">
       The specified data files must have the same columns in order to merge the file streams.
     </div>


     
    <center>
      <table width="100%">
	<tr>
	  <!--td width="100%"><div name="print1" id="colorbar_canvasOLD"  title="Color reference for loaded data" style="position:relative;height:55px;width:70%;margin:0 auto;overflow:hidden;"></div></td-->
	  <!--td width="40%"><div name="print1" id="colorbar_canvas2" title="Color reference for AIRNow data" style="border:1px solid #E4E9ED;position:relative;height:55px;width:100%;margin:0px;overflow:hidden"></div></td-->
	</tr>
      </table>
    </center>
   
   
      <center><div id="timebox"   style="position:center;height:15px;width:600px;">Time: </div></center>
      <table id="timezone_table" width="100%">
	<tr>
	  <td nowrap id="table_td1" style="padding-right:20px;white-space:nowrap">Display time in: 
	    <select id="timezoneList" onchange="getSelectedTimezone()" title="Times are displayed relative to selected timezone" style="width:80px">
              <option id="option0">GMT</option>
              <option id="option1">EST</option>
	      <option id="option2">CST</option>
              <option id="option3">MST</option>
              <option id="option4">PST</option>
	      <option id="option5">EDT</option>
	      <option id="option6">CDT</option>
              <option id="option7">MDT</option>
              <option id="option8">PDT</option>
            </select>
	  </td>
	  <td id="table_td2" width="100%" align="left" style="padding-right:220px">
            <div id="time_slider" onkeyup="activateTimeSlider(event)" title="Slide to select displayed data point" style="background:#E4E9ED;height:8px;width:100%;"></div>
	  </td>
	  
	</tr>
      </table>
      <center><div id="displayed_data_value" style="position:center;height:25px;width:600px;"></div></center>
      
      <table id="wazup">
	<tr>
	  
	  <!-- Map/main plot -->
	  <td valign="top">
	    <!--div id="metInfo" style="top:20px;border:1px solid black"></div-->
	    <!--div name="print" id="map_canvas" style="height:100%;width:100px;margin:0px;"></div></td-->
            <div id="wrapper" style="position:relative;">
	      <div name="print" id="map_canvas" style="height:100%;width:100px;margin:0px;"></div>
	      <div id="metInfo" name="metInfo" onclick="metinfo_toggle()" style="position: absolute; background-color: transparent; top: 8px; left: 100px; z-index: 99; background: white;box-shadow: 4px 4px 8px gray"></div>

              <!-- in the colorbar canvii below, do not worry about vertical placement (e.g. bottom:85px). They will be set dynamically later. -->
              <div id="colorbar_canvii" style="display:inline;">
                <div name="print" id="colorbar_canvas_airnowO3"  title="Color reference for loaded Airnow ozone data" style="position:absolute;bottom:25px;left:8px;right:60px;height:45px;margin:auto;padding-left:8px;padding-right:40px;padding-top:0px;overflow:hidden;background-color:rgba(255,255,255,0.8);border-radius:5px;display: none; data-collapsed="false" onclick="toggleExpandCollapse(this)"">
                  <img id="colorbar_canvas_airnowO3_expander" src="images/expanded.png" width="10" height="10" style="position:absolute;right:0.5%">
                </div>
                <div name="print" id="colorbar_canvas_airnowPM25"  title="Color reference for loaded Airnow PM 2.5 data" style="position:absolute;bottom:25px;left:8px;right:60px;height:45px;margin:auto;padding-left:8px;padding-right:40px;padding-top:0px;overflow:hidden;background-color:rgba(255,255,255,0.8);border-radius:5px;display: none; data-collapsed="false" onclick="toggleExpandCollapse(this)"">
                  <img id="colorbar_canvas_airnowPM25_expander" src="images/expanded.png" width="10" height="10" style="position:absolute;right:0.5%">
                </div>
                <div name="print" id="colorbar_canvas_airnowPM10"  title="Color reference for loaded Airnow PM 10 data" style="position:absolute;bottom:25px;left:8px;right:60px;height:45px;margin:auto;padding-left:8px;padding-right:40px;padding-top:0px;overflow:hidden;background-color:rgba(255,255,255,0.8);border-radius:5px;display: none; data-collapsed="false" onclick="toggleExpandCollapse(this)"">
                  <img id="colorbar_canvas_airnowPM10_expander" src="images/expanded.png" width="10" height="10" style="position:absolute;right:0.5%">
                </div>
                <div name="print" id="colorbar_canvas_airnowCO"  title="Color reference for loaded Airnow CO data" style="position:absolute;bottom:25px;left:8px;right:60px;height:45px;margin:auto;padding-left:8px;padding-right:40px;padding-top:0px;overflow:hidden;background-color:rgba(255,255,255,0.8);border-radius:5px;display: none; data-collapsed="false" onclick="toggleExpandCollapse(this)"">
                  <img id="colorbar_canvas_airnowCO_expander" src="images/expanded.png" width="10" height="10" style="position:absolute;right:0.5%">
                </div>      
                <div name="print" id="colorbar_canvas_airnowNO2"  title="Color reference for loaded Airnow NO2 data" style="position:absolute;bottom:25px;left:8px;right:60px;height:45px;margin:auto;padding-left:8px;padding-right:40px;padding-top:0px;overflow:hidden;background-color:rgba(255,255,255,0.8);border-radius:5px;display: none; data-collapsed="false" onclick="toggleExpandCollapse(this)"">
                  <img id="colorbar_canvas_airnowNO2_expander" src="images/expanded.png" width="10" height="10" style="position:absolute;right:0.5%">
                </div>
                <div name="print" id="colorbar_canvas_airnowSO2"  title="Color reference for loaded Airnow SO2 data" style="position:absolute;bottom:25px;left:8px;right:60px;height:45px;margin:auto;padding-left:8px;padding-right:40px;padding-top:0px;overflow:hidden;background-color:rgba(255,255,255,0.8);border-radius:5px;display: none; data-collapsed="false" onclick="toggleExpandCollapse(this)"">
                  <img id="colorbar_canvas_airnowSO2_expander" src="images/expanded.png" width="10" height="10" style="position:absolute;right:0.5%">
                </div>
                <div name="print" id="colorbar_canvas_purpleair"  title="Color reference for loaded PurpleAir data" style="position:absolute;bottom:25px;left:8px;right:60px;height:45px;margin:auto;padding-left:8px;padding-right:40px;padding-top:0px;overflow:hidden;background-color:rgba(255,255,255,0.8);border-radius:5px;display: none; data-collapsed="false" onclick="toggleExpandCollapse(this)"">
                  <img id="colorbar_canvas_purpleair_expander" src="images/expanded.png" width="10" height="10" style="position:absolute;right:0.5%">
                </div>
                
                <!-- NOTE: External data ids are zero based, but user menus are one based   -->
                <div name="print" id="colorbar_canvas_mysensor0"  title="Color reference for loaded External Data 1" style="position:absolute;bottom:25px;left:8px;right:60px;height:45px;margin:auto;padding-left:8px;padding-right:40px;padding-top:0px;overflow:hidden;background-color:rgba(255,255,255,0.8);border-radius:5px;display: none;" data-collapsed="false" onclick="toggleExpandCollapse(this)">
                  <img id="colorbar_canvas_mysensor0_expander" src="images/expanded.png" width="10" height="10" style="position:absolute;right:0.5%">
                </div>
                
                <!-- NOTE: External data ids are zero based, but user menus are one based   -->
                <div name="print" id="colorbar_canvas_mysensor1"  title="Color reference for loaded External Data 2" style="position:absolute;bottom:25px;left:8px;right:60px;height:45px;margin:auto;padding-left:8px;padding-right:40px;padding-top:0px;overflow:hidden;background-color:rgba(255,255,255,0.8);border-radius:5px;display: none;" data-collapsed="false" onclick="toggleExpandCollapse(this)">
                  <img id="colorbar_canvas_mysensor1_expander" src="images/expanded.png" width="10" height="10" style="position:absolute;right:0.5%">
                </div>
                
                <!-- NOTE: External data ids are zero based, but user menus are one based   -->
                <div name="print" id="colorbar_canvas_mysensor2"  title="Color reference for loaded External Data 3" style="position:absolute;bottom:25px;left:8px;right:60px;height:45px;margin:auto;padding-left:8px;padding-right:40px;padding-top:0px;overflow:hidden;background-color:rgba(255,255,255,0.8);border-radius:5px;display: none;" data-collapsed="false" onclick="toggleExpandCollapse(this)">
                  <img id="colorbar_canvas_mysensor2_expander" src="images/expanded.png" width="10" height="10" style="position:absolute;right:0.5%">
                </div>
                
                <!-- NOTE: External data ids are zero based, but user menus are one based   -->
                <div name="print" id="colorbar_canvas_mysensor3"  title="Color reference for loaded External Data 4" style="position:absolute;bottom:25px;left:8px;right:60px;height:45px;margin:auto;padding-left:8px;padding-right:40px;padding-top:0px;overflow:hidden;background-color:rgba(255,255,255,0.8);border-radius:5px;display: none;" data-collapsed="false" onclick="toggleExpandCollapse(this)">
                  <img id="colorbar_canvas_mysensor3_expander" src="images/expanded.png" width="10" height="10" style="position:absolute;right:0.5%">
                </div>
                
                <!-- NOTE: External data ids are zero based, but user menus are one based   -->
                <div name="print" id="colorbar_canvas_mysensor4"  title="Color reference for loaded External Data 5" style="position:absolute;bottom:25px;left:8px;right:60px;height:45px;margin:auto;padding-left:8px;padding-right:40px;padding-top:0px;overflow:hidden;background-color:rgba(255,255,255,0.8);border-radius:5px;display: none;" data-collapsed="false" onclick="toggleExpandCollapse(this)">
                  <img id="colorbar_canvas_mysensor4_expander" src="images/expanded.png" width="10" height="10" style="position:absolute;right:0.5%">
                </div>
                
                <div name="print" id="colorbar_satellite_canvas"  title="Color reference for loaded satellite data" style="position:absolute;bottom:85px;left:8px;right:60px;height:45px;margin:auto;padding-left:8px;padding-right:40px;padding-top:0px;overflow:hidden;background-color:rgba(255,255,255,0.8);border-radius:5px;display: none;" data-collapsed="false" onclick="toggleExpandCollapse(this)">
                  <img id="colorbar_satellite_canvas_expander" src="images/expanded.png" width="10" height="10" style="position:absolute;right:0.5%;">
                </div>
                
                <div name="print" id="colorbar_canvas"  title="Color reference for loaded data" style="position:absolute;bottom:25px;left:8px;right:60px;height:45px;margin:auto;padding-left:8px;padding-right:40px;padding-top:0px;overflow:hidden;;background-color:rgba(255,255,255,0.8);border-radius:5px;display: none;"></div>
            </div>
            
            <div id="busyMap" style="position:absolute;top:8px;right:50px;z-index:10000;visibility:hidden;font-size:34px;background-color:rgba(100,100,100,0.4);border-radius:10px;padding-left:10px;padding-right:10px;margin:0;border:0px">Busy&nbsp;&nbsp;&nbsp;>
	        <div id="loader" class="loader" style="position:absolute;right:10px;display:inline-block;margin-top:5px;margin-left:60px"></div>
                <div id="busyMapWaitTime" style="font-size:14px;min-width:150px"><i>Please be patient</i></div>
              </div>
	    </div>
	  </td>
	  
	  <!-- Analysis plot -->
          <td valign="top">
	    <div class="plotControls" name="print" title="Plots your data points as a function of distance to a line and/or marker that you place onto the map" id="analysis_canvas" style="height:100%;width:0px;margin:0px;font-size:14px">
              <input class="plotControls" type="checkbox" name="analysis_Xaxisoption" id="analysis_Xaxisoption" title="Constrain x-axis" onclick=process_Xaxisoption(event); defaultChecked=false;><label class="plotControls" for="analysis_Xmin">Xrange: </label><input class="plotControls" id="analysis_Xmin" type='text' size='4' value="0" disabled onkeypress='validate_axis(event)'>
	      &nbsp;<input class="plotControls" id="analysis_Xmax" type='text' size='4' value="0" disabled onkeypress='validate_axis(event)'>

              
              <span style="float:right;" class="emvlDropdown dropdown">
                  <button class="btn btn-primary btn-sm emvlDropdown-toggle dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Export...
                  </button>
                  <div class="emvlDropdown-menu dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <a class="emvlDropdown-item dropdown-item" onclick="export_analysis()" >Export file</a>
                    <a class="emvlDropdown-item dropdown-item" onclick="saveCanvas('analysis_canvas2', 'retigo_analysis.png')" >Save image</a>
                  </div>
                </span>
              <br>
	      <input  class="plotControls" type="checkbox" id="analysis_separateByID" title="Separate by ID is limited to the first 5 checked IDs" onclick=toggle_analysisSeparateByID(); defaultChecked=false;><label class="plotControls"> Separate by ID</label>
              <br>

	      <!--input class="plotControls" type="button" Value="Export file" title="Export analysis data to a text file" id="button_back" size=60 style="float:right;margin-right:10px" onclick="export_analysis()">&nbsp;&nbsp;<br-->
	      
	      <input class="plotControls" type="checkbox" id="analysis_boxplotoption" title="Display mean and standard deviation. Aggregated to specified bin size" onclick=update_analysisPlot(); defaultChecked=false;><label class="plotControls"> Statistical summary</label>
	      <input class="plotControls" id="analysis_binsize" title="Statistical bin size in meters" type='text' size='4' value="50" onkeypress='setBoxplotBinSize(event)'>
	      <label class="plotControls">m</label>
	      <!--button class="plotControls" align="right" type="button" style="float:right;margin-right:10px" onclick="saveCanvas('analysis_canvas2', 'retigo_analysis.png')" >Save image</button><br-->
	      <div name="print" id="analysis_canvas2" style="height:90%;width:100%;margin:0px"></div>
            </div>
	  </td>
	  
	  
          <!-- Scatter plot -->
          <td valign="top">
  	    <div id="scat_canvas">
	      <div class="plotControls" name="print" title="Plot your selected data (y-axis) versus another variable in your dataset (x-axis). Note that all user data in this plot is aggregated to the hour to facilitate comparison to hourly sensor data. If you are also viewing the timeseries plot, it is advisable to select its 'Hourly Avg.' option to ensure consistency between the plots." id="scatter_canvas" style="height:100%;width:0px;margin:0px;font-size:14px">
  
                &nbsp;<label class="plotControls" for="scatter_yaxisVar">Y-axis: </label>
                <select id="scatter_yaxisVar" title="Y-axis variable, aggregated to the hour" onchange="update_scatterPlot()" style="width:120px;font-size: 10px;"></select>
                <!--button align="right" class="plotControls" align="right" type="button" style="float:right;margin-right:10px" onclick="saveCanvas('scatter_canvas2', 'retigo_scatterplot.png')" >Save image</button><br-->

                <span style="float:right;" class="emvlDropdown dropdown">
                  <button class="btn btn-primary btn-sm emvlDropdown-toggle dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Export...
                  </button>
                  <div class="emvlDropdown-menu dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <a class="emvlDropdown-item dropdown-item" onclick="export_scatter()" >Scatterplot data</a>
                    <a class="emvlDropdown-item dropdown-item" onclick="export_scatter_correction()" >Corrected file</a>
                    <a class="emvlDropdown-item dropdown-item" onclick="saveCanvas('scatter_canvas2', 'retigo_scatterplot.png')" >Save image</a>
                  </div>
                </span><br>

                &nbsp;<label class="plotControls" for="scatter_xaxisVar">X-axis: </label>
                <select id="scatter_xaxisVar" title="X-axis variable, aggregated to the hour" onchange="update_scatterPlot()" style="width:120px;font-size: 10px;"></select>
                
                <div style="text-align:center"><span id="scatterplotTitle" ></span></div>
                <div name="print" id="scatter_canvas2" style="height:90%;width:100%;margin:0px"></div>
              </div>
            </div>
          </td>

          
	  <!-- Windrose plot -->
	  <td valign="top">
            <div style="position:relative;">
	    <!--div  id="windrose_div" style="height:90%;width:0px;margin:0px;"-->

              <div name="print" id="colorbar_canvas_windrose"  title="Color reference for loaded data" style="position:absolute;bottom:30px;left:8px;right:50px;height:55px;margin:auto;padding-left:8px;padding-right:40px;overflow:hidden;background-color:rgba(230,230,230,0.8);border-radius:5px;z-index:9999;display: none;"></div>

	      <button id="windrose_canvas_button" align="right" type="button" style="font-size:10px;float:right;margin-right:10px" onclick="saveCanvas('windrose_canvas', 'retigo_windpollution.png')" >Save image</button><br>
              <!--span id="windrose_canvas_button" style="float:right;margin-right:40px" class="emvlDropdown dropdown">
                <button style="margin-right:10px" class="btn btn-primary btn-sm emvlDropdown-toggle dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Export...
                </button>
                <div class="emvlDropdown-menu dropdown-menu" aria-labelledby="dropdownMenuButton">
                  <a class="emvlDropdown-item dropdown-item" onclick="saveCanvas('windrose_canvas', 'retigo_windpollution.png')" >Save image</a>
                </div>
              </span-->

              
	      <canvas name="print" id="windrose_canvas" style="z-index:2;height:90%;width:100%;margin:0px;border:1px solid #000000">
		<div name="print" id="windrose_canvas2" style="height:90%;width:100%;margin:0px"></div>
              </canvas>

	    <!--/div-->
            </div>
	  </td>



          <td valign="top">
	    <div id="blank_canvas" style="height:100%;width:0px;margin:0px">
	    </div>
	  </td>


	  <td valign="top" id="ControlTabs" style="display:inline;">
	    <ul class="nav nav-pills" style="margin-top:-20px;margin-bottom:0px">
	      <li class="nav-item" id="MyDataTab">
		<a id="MyDataTabLink" class="nav-link active" data-toggle="tab" onclick="setMyData()" style="border: 1px solid #000">MyData</a>
	      </li>
	      <li class="nav-item" id="MergeTab">
		<a id="MergeTabLink" class="nav-link" data-toggle="tab" onclick="setMerge()" style="border: 1px solid #000">Merge</a>
	      </li>
              <li class="nav-item" id="SettingsTab">
		<a id="settingsBtn" class="nav-link emvlSettingsIcon" data-toggle="tab" onclick="setSettings()" style="border: 1px solid #000"><img src="images/settings.png" width="20" style="pointer-events:none;"></a>
	      </li>
	    </ul>
	  </td>
	  
	  <!-- MergeData tab -->
	  <!--td align="top" id="MergeData" style="display:inline;visibility:hidden"></td--> 
	  <!-- End MergeData tab -->
	  

	  <!-- MyData tab -->
          <!--td valign="top" id="MyData" style="display:inline"><div id="display_choice" style="border:1px solid black;position:relative;height:230px;width:225px;margin:0px;text-align:top; padding-left:5px"-->
	  <td align="top" id="Controls" style="display:inline;position:absolute">
	    <div class="controls" id="MergeDataDiv" style="background:#EBF2F7;position:absolute;visibility:hidden;border:1px solid black;width:238px;margin-top:0px">
              <!--center><b>Optional PurpleAir API key</b></center-->
               <!--input type="text" id="paKeyInput"  minlength="36" size="28" pattern="[A-Za-z0-9-._:]*" onfocusout="validatePAkey()"-->
              <!--center-->
                <label style="font-size:10px;margin-bottom:0px;padding-bottom:0px">PurpleAir API key:</label>
                <input style="margin-top:0px;padding-top:0px;font-family:obscure" type="text" id="paKeyInput"  minlength="3" size="15" onfocusout="validatePAkey()" title="A PurpleAir API read key is needed to access PurpleAir data.&#13;To obtain a free read key, email: contact@purpleair.com">
                <hr style="margin-top:5px;margin-bottom:0px;">


                <center><b>Add external stationary sensor</b></center>
                <center>(up to five)</center>
                <!--label style="font-size:10px;margin-bottom:0px;padding-bottom:0px">(up to 5):</label><br-->

                <!-- NOTE: External data ids are zero based, but user menus are one based   -->
                <div id="divLoadMySensor0" style="margin-left:5px">
                  1) <input class="controls controlsLabel" type="file" oninput="load_mySensorFile(this)" id="mySensorFile0" size=15 style="white-space:nowrap;overflow:hidden;width:180px;">
                  &nbsp;&nbsp;&nbsp;&nbsp;
                  <select id="mySensorSelector0"
                          class="controls controlsLabel"
                          onchange="mySensorVariableChanged(this.id)"
                          title="External data variable"
                          style="margin-right:5px;font-size:10px;white-space:nowrap;padding:0px;background:#E3E3E3">
                    <!-- options will be added dynamically -->
                  </select>
                </div>

                <!-- NOTE: External data ids are zero based, but user menus are one based   -->
                <div id="divLoadMySensor1" hidden="true" style="margin-top:2px;margin-left:5px">
                  2) <input class="controls controlsLabel" type="file" oninput="load_mySensorFile(this)" id="mySensorFile1" size=15 style="white-space:nowrap;overflow:hidden;width:180px;">
                  &nbsp;&nbsp;&nbsp;&nbsp;
                  <select id="mySensorSelector1"
                          class="controls controlsLabel"
                          onchange="mySensorVariableChanged(this.id)"
                          title="External data variable"
                          style="margin-right:5px;font-size:10px;white-space:nowrap;padding:0px;background:#E3E3E3">
                    <!-- options will be added dynamically -->
                  </select>
                </div>

                <!-- NOTE: External data ids are zero based, but user menus are one based   -->
                <div id="divLoadMySensor2" hidden="true" style="margin-top:2px;margin-left:5px">
                  3) <input class="controls controlsLabel" type="file" oninput="load_mySensorFile(this)" id="mySensorFile2" size=15 style="white-space:nowrap;overflow:hidden;width:180px;">
                  &nbsp;&nbsp;&nbsp;&nbsp;
                  <select id="mySensorSelector2"
                          class="controls controlsLabel"
                          onchange="mySensorVariableChanged(this.id)"
                          title="External data variable"
                          style="margin-right:5px;font-size:10px;white-space:nowrap;padding:0px;background:#E3E3E3">
                    <!-- options will be added dynamically -->
                  </select>
                </div>

                <!-- NOTE: External data ids are zero based, but user menus are one based   -->
                <div id="divLoadMySensor3" hidden="true" style="margin-top:2px;margin-left:5px">
                  4) <input class="controls controlsLabel" type="file" oninput="load_mySensorFile(this)" id="mySensorFile3" size=15 style="white-space:nowrap;overflow:hidden;width:180px;">
                  &nbsp;&nbsp;&nbsp;&nbsp;
                  <select id="mySensorSelector3"
                          class="controls controlsLabel"
                          onchange="mySensorVariableChanged(this.id)"
                          title="External data variable"
                          style="margin-right:5px;font-size:10px;white-space:nowrap;padding:0px;background:#E3E3E3">
                    <!-- options will be added dynamically -->
                  </select>
                </div>

                <!-- NOTE: External data ids are zero based, but user menus are one based   -->
                <div id="divLoadMySensor4" hidden="true" style="margin-top:2px;margin-left:5px">
                  5) <input class="controls controlsLabel" type="file" oninput="load_mySensorFile(this)" id="mySensorFile4" size=15 style="white-space:nowrap;overflow:hidden;width:180px;">
                  &nbsp;&nbsp;&nbsp;&nbsp;
                  <select id="mySensorSelector4"
                          class="controls controlsLabel"
                          onchange="mySensorVariableChanged(this.id)"
                          title="External data variable"
                          style="margin-right:5px;font-size:10px;white-space:nowrap;padding:0px;background:#E3E3E3">
                    <!-- options will be added dynamically -->
                  </select>
                </div>






                
                <!--/center--><hr>
              
	        <center><b>Add to map</b></center>
	        <!--input type="checkbox" name="addModisAod" title="MODIS Aerosol Optical Depth" id="addModisAod"><label class="controls">MODIS aerosol optical depth</label><br-->
                
                <!-- NOTE: External data ids are zero based, but user menus are one based   -->
                <div class="controls" id="divAddMySensorLocations0" hidden="true" style="margin-left:5px;clear:both">
                  <input disabled="true" type="checkbox" name="addMySensorLocations0" title="External data 1 concentrations" id="addMySensorLocations0" onclick="toggleMySensorLocations(this.id)"><label id="addMySensorLocationsLabel0" class="controls controlsLabel" style="margin-left:5px" title="External data 1 location">External data 1</label>
                  <select id="colormap_MySensor0"
                          onchange="changeMergedDataColormap(this)"
                          title="Color options for displaying External Data 1 on the map"
                          style="float:right;margin-right:5px;width:80px;white-space:nowrap;padding:0px">
                    <option id="bluered">BlueRed</option>
                    <option id="stdgamma2">StdGamma</option>
                    <option id="stdgamma2_inverted">StdGamma_Inverted</option>
	            <option id="bluemono">BlueMono</option>
                    <option id="viridis">Viridis</option>
                    <option id="viridis_inverted">Viridis_Inverted</option>
                    <option id="colorsafe">ColorSafe</option>
                    <option id="colorsafe_inverted">ColorSafe_Inverted</option>
                  </select>
                </div>
                
                
                <!-- NOTE: External data ids are zero based, but user menus are one based   -->
                <div class="controls" id="divAddMySensorLocations1" hidden="true" style="margin-left:5px;clear:both">
                  <input disabled="true" type="checkbox" name="addMySensorLocations1" title="External data 2 concentrations" id="addMySensorLocations1" onclick="toggleMySensorLocations(this.id)"><label id="addMySensorLocationsLabel1" class="controls controlsLabel" style="margin-left:5px" title="External data 2 location">External data 2</label>
                  <select id="colormap_MySensor1"
                          onchange="changeMergedDataColormap(this)"
                          title="Color options for displaying External Data 2 on the map"
                          style="float:right;margin-right:5px;width:80px;white-space:nowrap;padding:0px">
                    <option id="bluered">BlueRed</option>
                    <option id="stdgamma2">StdGamma</option>
                    <option id="stdgamma2_inverted">StdGamma_Inverted</option>
	            <option id="bluemono">BlueMono</option>
                    <option id="viridis">Viridis</option>
                    <option id="viridis_inverted">Viridis_Inverted</option>
                    <option id="colorsafe">ColorSafe</option>
                    <option id="colorsafe_inverted">ColorSafe_Inverted</option>
                  </select>
                </div>
                
                <!-- NOTE: External data ids are zero based, but user menus are one based   -->
                <div class="controls" id="divAddMySensorLocations2" hidden="true" style="margin-left:5px;clear:both">
                  <input disabled="true" type="checkbox" name="addMySensorLocations2" title="External data 3 concentrations" id="addMySensorLocations2" onclick="toggleMySensorLocations(this.id)"><label id="addMySensorLocationsLabel2" class="controls controlsLabel" style="margin-left:5px" title="External data 3 location">External data 3</label>
                  <select id="colormap_MySensor2"
                          onchange="changeMergedDataColormap(this)"
                          title="Color options for displaying External Data 3 on the map"
                          style="float:right;margin-right:5px;width:80px;white-space:nowrap;padding:0px">
                    <option id="bluered">BlueRed</option>
                    <option id="stdgamma2">StdGamma</option>
                    <option id="stdgamma2_inverted">StdGamma_Inverted</option>
	            <option id="bluemono">BlueMono</option>
                    <option id="viridis">Viridis</option>
                    <option id="viridis_inverted">Viridis_Inverted</option>
                    <option id="colorsafe">ColorSafe</option>
                    <option id="colorsafe_inverted">ColorSafe_Inverted</option>
                  </select>
                </div>
                
                <!-- NOTE: External data ids are zero based, but user menus are one based   -->
                <div class="controls" id="divAddMySensorLocations3" hidden="true" style="margin-left:5px;clear:both">
                  <input disabled="true" type="checkbox" name="addMySensorLocations3" title="External data 4 concentrations" id="addMySensorLocations3" onclick="toggleMySensorLocations(this.id)"><label id="addMySensorLocationsLabel3" class="controls controlsLabel" style="margin-left:5px" title="External data 4 location">External data 4</label>
                  <select id="colormap_MySensor3"
                          onchange="changeMergedDataColormap(this)"
                          title="Color options for displaying External Data 4 on the map"
                          style="float:right;margin-right:5px;width:80px;white-space:nowrap;padding:0px">
                    <option id="bluered">BlueRed</option>
                    <option id="stdgamma2">StdGamma</option>
                    <option id="stdgamma2_inverted">StdGamma_Inverted</option>
	            <option id="bluemono">BlueMono</option>
                    <option id="viridis">Viridis</option>
                    <option id="viridis_inverted">Viridis_Inverted</option>
                    <option id="colorsafe">ColorSafe</option>
                    <option id="colorsafe_inverted">ColorSafe_Inverted</option>
                  </select>
                </div>
                
                <!-- NOTE: External data ids are zero based, but user menus are one based   -->
                <div class="controls" id="divAddMySensorLocations4" hidden="true" style="margin-left:5px;clear:both">
                  <input disabled="true" type="checkbox" name="addMySensorLocations4" title="External data 5 concentrations" id="addMySensorLocations4" onclick="toggleMySensorLocations(this.id)"><label id="addMySensorLocationsLabel4" class="controls controlsLabel" style="margin-left:5px" title="External data 5 location">External data 5</label>
                  <select id="colormap_MySensor4"
                          onchange="changeMergedDataColormap(this)"
                          title="Color options for displaying External Data 5 on the map"
                          style="float:right;margin-right:5px;width:80px;white-space:nowrap;padding:0px">
                    <option id="bluered">BlueRed</option>
                    <option id="stdgamma2">StdGamma</option>
                    <option id="stdgamma2_inverted">StdGamma_Inverted</option>
	            <option id="bluemono">BlueMono</option>
                    <option id="viridis">Viridis</option>
                    <option id="viridis_inverted">Viridis_Inverted</option>
                    <option id="colorsafe">ColorSafe</option>
                    <option id="colorsafe_inverted">ColorSafe_Inverted</option>
                  </select>
                </div>

                <div style="clear:both">
	          <input type="checkbox" name="addAqsOzoneLocations" title="Hourly ozone concentrations (in parts per billion) reported from airnow.gov" id="addAqsOzoneLocations" onclick="toggleAqsLocations(this.id)" style="margin-left:5px"><label id="addAqsOzoneLocationsLabel" class="controls controlsLabel" title="Hourly ozone concentrations (in parts per billion) reported from airnow.gov" id="addAqsOzoneLocations" style="margin-left:5px;clear:both">AirNow O<sub>3</sub></label>
	          <select id="colormap_AqsO3"
                          onchange="changeMergedDataColormap(this)"
                          title="Color options for displaying Airnow ozone data on the map"
                          style="float:right;margin-right:5px;width:80px;white-space:nowrap;padding:0px">
                    <option id="bluered">BlueRed</option>
                    <option id="stdgamma2">StdGamma</option>
                    <option id="stdgamma2_inverted">StdGamma_Inverted</option>
	            <option id="bluemono">BlueMono</option>
                    <option id="viridis">Viridis</option>
                    <option id="viridis_inverted">Viridis_Inverted</option>
                    <option id="colorsafe">ColorSafe</option>
                    <option id="colorsafe_inverted">ColorSafe_Inverted</option>
                  </select>
                </div>

                <div style="clear:both">                
	          <input type="checkbox" name="addAqsPM25Locations"  title="Hourly 2.5 micron particulate matter concentrations (in micrograms per cubic meter) reported from airnow.gov" id="addAqsPM25Locations" onclick="toggleAqsLocations(this.id)" style="margin-left:5px;"><label id="addAqsPM25LocationsLabel" class="controls controlsLabel"  title="Hourly 2.5 micron particulate matter concentrations (in micrograms per cubic meter) reported from airnow.gov" style="margin-left:5px">AirNow PM<sub>2.5</sub></label>
                  <select id="colormap_AqsPM25"
                          onchange="changeMergedDataColormap(this)"
                          title="Color options for displaying Airnow PM2.5 data on the map"
                          style="float:right;margin-right:5px;width:80px;white-space:nowrap;padding:0px">
                    <option id="bluered">BlueRed</option>
                    <option id="stdgamma2">StdGamma</option>
                    <option id="stdgamma2_inverted">StdGamma_Inverted</option>
	            <option id="bluemono">BlueMono</option>
                    <option id="viridis">Viridis</option>
                    <option id="viridis_inverted">Viridis_Inverted</option>
                    <option id="colorsafe">ColorSafe</option>
                    <option id="colorsafe_inverted">ColorSafe_Inverted</option>
                  </select>
                </div>

                <div style="clear:both;">                
	          <input type="checkbox" name="addAqsPM10Locations"  title="Hourly 10 micron particulate matter concentrations (in micrograms per cubic meter) reported from airnow.gov" id="addAqsPM10Locations" onclick="toggleAqsLocations(this.id)" style="margin-left:5px;"><label id="addAqsPM10LocationsLabel" class="controls controlsLabel"  title="Hourly 10 micron particulate matter concentrations (in micrograms per cubic meter) reported from airnow.gov" style="margin-left:5px">AirNow PM<sub>10</sub></label>
                  <select id="colormap_AqsPM10"
                          onchange="changeMergedDataColormap(this)"
                          title="Color options for displaying Airnow PM10 data on the map"
                          style="float:right;margin-right:5px;width:80px;white-space:nowrap;padding:0px">
                    <option id="bluered">BlueRed</option>
                    <option id="stdgamma2">StdGamma</option>
                    <option id="stdgamma2_inverted">StdGamma_Inverted</option>
	            <option id="bluemono">BlueMono</option>
                    <option id="viridis">Viridis</option>
                    <option id="viridis_inverted">Viridis_Inverted</option>
                    <option id="colorsafe">ColorSafe</option>
                    <option id="colorsafe_inverted">ColorSafe_Inverted</option>
                  </select>
                </div>
                
                <div style="clear:both">
	          <input type="checkbox" name="addAqsCOLocations" title="Hourly carbon monoxide concentrations (in parts per million) reported from airnow.gov" id="addAqsCOLocations" onclick="toggleAqsLocations(this.id)" style="margin-left:5px;"><label id="addAqsCOLocationsLabel" class="controls controlsLabel" title="Hourly carbon monoxide concentrations (in parts per million) reported from airnow.gov" style="margin-left:5px">AirNow CO</label>
                  <select id="colormap_AqsCO"
                          onchange="changeMergedDataColormap(this)"
                          title="Color options for displaying Airnow CO data on the map"
                          style="float:right;margin-right:5px;width:80px;white-space:nowrap;padding:0px">
                    <option id="bluered">BlueRed</option>
                    <option id="stdgamma2">StdGamma</option>
                    <option id="stdgamma2_inverted">StdGamma_Inverted</option>
	            <option id="bluemono">BlueMono</option>
                    <option id="viridis">Viridis</option>
                    <option id="viridis_inverted">Viridis_Inverted</option>
                    <option id="colorsafe">ColorSafe</option>
                    <option id="colorsafe_inverted">ColorSafe_Inverted</option>
                  </select>
                </div>
                
                <div style="clear:both">
	          <input type="checkbox" name="addAqsNO2Locations" title="Hourly nitrogen dioxide concentrations (in parts per billion) reported from airnow.gov" id="addAqsNO2Locations" onclick="toggleAqsLocations(this.id)" style="margin-left:5px;"><label id="addAqsNO2LocationsLabel" class="controls controlsLabel" title="Hourly nitrogen dioxide concentrations (in parts per billion) reported from airnow.gov" style="margin-left:5px">AirNow NO<sub>2</sub></label>
                  <select id="colormap_AqsNO2"
                          onchange="changeMergedDataColormap(this)"
                          title="Color options for displaying Airnow NO2 data on the map"
                          style="float:right;margin-right:5px;width:80px;white-space:nowrap;padding:0px">
                    <option id="bluered">BlueRed</option>
                    <option id="stdgamma2">StdGamma</option>
                    <option id="stdgamma2_inverted">StdGamma_Inverted</option>
	            <option id="bluemono">BlueMono</option>
                    <option id="viridis">Viridis</option>
                    <option id="viridis_inverted">Viridis_Inverted</option>
                    <option id="colorsafe">ColorSafe</option>
                    <option id="colorsafe_inverted">ColorSafe_Inverted</option>
                  </select>
                </div>

                <div style="clear:both">
	          <input type="checkbox" name="addAqsSO2Locations" title="Hourly sulfur dioxide concentrations (in parts per billion) reported from airnow.gov" id="addAqsSO2Locations" onclick="toggleAqsLocations(this.id)" style="margin-left:5px;"><label id="addAqsSO2LocationsLabel" class="controls controlsLabel" title="Hourly sulfur dioxide concentrations (in parts per billion) reported from airnow.gov" style="margin-left:5px">AirNow SO<sub>2</sub></label>
                  <select id="colormap_AqsSO2"
                          onchange="changeMergedDataColormap(this)"
                          title="Color options for displaying Airnow SO2 data on the map"
                          style="float:right;margin-right:5px;width:80px;white-space:nowrap;padding:0px">
                    <option id="bluered">BlueRed</option>
                    <option id="stdgamma2">StdGamma</option>
                    <option id="stdgamma2_inverted">StdGamma_Inverted</option>
	            <option id="bluemono">BlueMono</option>
                    <option id="viridis">Viridis</option>
                    <option id="viridis_inverted">Viridis_Inverted</option>
                    <option id="colorsafe">ColorSafe</option>
                    <option id="colorsafe_inverted">ColorSafe_Inverted</option>
                  </select>
                </div>
                
                <div style="clear:both">
                  <input disabled="true" type="checkbox" id="addPurpleairLocations" title="Hourly 2.5 micron particulate matter concentrations (in micrograms per cubic meter) reported from purpleair.com (Dec 2020 - present. A valid API key is needed to access this data" id="addPurpleairLocations" onclick="togglePurpleairLocations()" style="margin-left:5px"><label id="addPurpleairLocationsLabel" title="Hourly PurpleAir PM2.5 concentrations (in micrograms per cubic meter) reported from purpleair.com (Dec. 2020 - present). A valid API key is needed to access this data" class="controls controlsLabel" style="margin-left:5px">PurpleAir PM<sub>2.5</sub></label>
                  <select id="colormap_Purpleair"
                          onchange="changeMergedDataColormap(this)"
                          title="Color options for displaying Purpleair PM2.5 data on the map"
                          style="float:right;margin-right:5px;width:80px;white-space:nowrap;padding:0px">
                    <option id="bluered">BlueRed</option>
                    <option id="stdgamma2">StdGamma</option>
                    <option id="stdgamma2_inverted">StdGamma_Inverted</option>
	            <option id="bluemono">BlueMono</option>
                    <option id="viridis">Viridis</option>
                    <option id="viridis_inverted">Viridis_Inverted</option>
                    <option id="colorsafe">ColorSafe</option>
                    <option id="colorsafe_inverted">ColorSafe_Inverted</option>
                  </select>
                </div>
                
	        <div style="clear:both">
                  <input type="checkbox" name="addSurfmetLocations" title="Hourly weather data reported from Meteorological Terminal Aviation Routine Weather Report stations" id="addSurfmetLocations" onclick="toggleSurfmetLocations()" style="margin-left:5px"><label id="addSurfmetLocationsLabel" title="Hourly weather data reported from Meteorological Terminal Aviation Routine Weather Report stations" class="controls controlsLabel" style="margin-left:5px">METAR</label>
                </div>
                  
	        <div style="clear:both">
                  <input type="checkbox" name="addHmsFireLocations" title="Hazard Mapping System (HMS) fire product" id="addHmsFireLocations" onclick="toggleHmsFireLocations()" style="margin-left:5px"><label id="addHmsFireLocationsLabel" title="Hazard Mapping System (HMS) fire product (Nov. 2016 - present)" class="controls controlsLabel" style="margin-left:5px">NOAA HMS fires</label>
                  
                  <span style="float:right">% opacity</span>
                </div>
                
                <div style="margin-top:4px;clear:both">
		  <input type="checkbox" name="addViirsTruecolor" title="Daily NASA Visible Infrared Imaging Radiometer Suite (VIIRS) true color imagery (Aug. 2017 - present)" id="addViirsTruecolorMap" onclick="toggleViirsTruecolorMap()" style="margin-left:5px"><label id="addViirsTruecolorMapLabel" title="Daily NASA Visible Infrared Imaging Radiometer Suite (VIIRS) true color imagery (Aug. 2017 - present)" class="controls controlsLabel" style="margin-left:5px">NASA VIIRS True Color</label>
		  <input class="controls controlsLabel" style="background:#FFFFFF;width:4em;float:right;margin-right:5px;" id='viirsTruecolorOpacityControl' type='number' min="10" max="100" step="10" value="70" onchange='updateViirsTruecolorOpacity()' title="Opacity of VIIRS true color layer"><br>
	        </div>
                
	        <div style="margin-top:4px;clear:both">
		  <input type="checkbox" name="satelliteChoice" title="Daily NASA Visible Infrared Imaging Radiometer Suite (VIIRS) aerosol optical depth (Aug. 2017 - present)" id="addViirsAodMap" onclick="toggleViirsAODMap()" style="margin-left:5px"><label id="addViirsAodMapLabel" title="Daily NASA Visible Infrared Imaging Radiometer Suite (VIIRS) aerosol optical depth (Aug. 2017 - present)" class="controls controlsLabel" style="margin-left:5px">NASA VIIRS AOD</label>
		  <input class="controls controlsLabel" style="background:#FFFFFF;width:4em;float:right;margin-right:5px;" id='viirsAodOpacityControl' type='number' min="10" max="100" step="10" value="70" onchange='updateViirsOpacity()' title="Opacity of VIIRS AOD layer"><br>
	        </div>
                
                <div style="margin-top:4px;clear:both">
		  <input type="checkbox" name="satelliteChoice" title="Daily ESA Tropospheric Monitoring Instrument (TROPOMI) column integrated nitrogen dioxide (Nov. 2017 - present)" id="addTropomiNO2Map" onclick="toggleTropomiNO2Map()" style="margin-left:5px"><label id="addTropomiNO2MapLabel" title=" ESA Tropospheric Monitoring Instrument (TROPOMI) column integrated nitrogen dioxide (Nov. 2017 - present)" class="controls controlsLabel" style="margin-left:5px">ESA TROPOMI NO2</label>
		  <input class="controls controlsLabel" style="background:#FFFFFF;width:4em;float:right;margin-right:5px;" id='tropomiNO2OpacityControl' type='number' min="10" max="100" step="10" value="70" onchange='updateTropomiNO2Opacity()' title="Opacity of Tropomi NO2 layer"><br>
	        </div>
                
                
	        <br>
	        <center><b>Add to time series / scatterplot</b></center>
	        <!--div class="controls" id="merge_data_range_label" style="float:right;white-space:nowrap;padding:0px" title="User specified range for each variable">Data range:<br>
	            <label class="controls" for="merge_min"></label><input style="background:#FFFFFF;font-size:8px;" class="controls" id='merge_min' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
	            <label class="controls" for="merge_max"></label><input style="background:#FFFFFF;font-size:8px;" class="controls" id='merge_max' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
	     </div-->
               <span style="float:right;margin-right:5px">Global range</span><br>
               <span style="float:right;margin-right:5px">min&nbsp;&nbsp;&nbsp;&nbsp;max</span><br>
               
               <!-- NOTE: External data ids are zero based, but user menus are one based   -->
               <div id="divAddMySensor0" hidden="true" style="white-space:nowrap;padding:0px;margin:0px;clear:both">
	         <input disabled="true" type="checkbox" name="addToTimeseries" title="External data 1 concentrations" id="addMySensor0" onclick="toggleMySensor(this.id)" style="margin-left:5px"><label title="External data 1 concentrations" class="controls controlsLabel" style="margin-left:5px">External data 1</label>
                 <div  id="merge_data_range_label"  title="User specified range for External Data 1 (applies to all plots and map)" style="float:right;">
		   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_min_MySensor0' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
                   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_max_MySensor0' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
	         </div>
               </div>
               
               <!-- NOTE: External data ids are zero based, but user menus are one based   -->
               <div id="divAddMySensor1" hidden="true" style="white-space:nowrap;padding:0px;margin:0px;clear:both">
	         <input disabled="true" type="checkbox" name="addToTimeseries" title="External data 2 concentrations" id="addMySensor1" onclick="toggleMySensor(this.id)" style="margin-left:5px"><label title="External data 2 concentrations" class="controls controlsLabel" style="margin-left:5px">External data 2</label>
                 <div  id="merge_data_range_label"  title="User specified range for External Data 2 (applies to all plots and map)" style="float:right;">
		   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_min_MySensor1' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
                   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_max_MySensor1' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
	         </div>
               </div>
               
               <!-- NOTE: External data ids are zero based, but user menus are one based   -->
               <div id="divAddMySensor2" hidden="true" style="white-space:nowrap;padding:0px;margin:0px;clear:both">
	         <input disabled="true" type="checkbox" name="addToTimeseries" title="External data 3 concentrations" id="addMySensor2" onclick="toggleMySensor(this.id)" style="margin-left:5px"><label title="External data 3 concentrations" class="controls controlsLabel" style="margin-left:5px">External data 3</label>
                 <div  id="merge_data_range_label"  title="User specified range for External Data 3 (applies to all plots and map)" style="float:right;">
		   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_min_MySensor2' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
                   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_max_MySensor2' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
	         </div>
               </div>

               <!-- NOTE: External data ids are zero based, but user menus are one based   -->
               <div id="divAddMySensor3" hidden="true" style="white-space:nowrap;padding:0px;margin:0px;clear:both">
	         <input disabled="true" type="checkbox" name="addToTimeseries" title="External data 4 concentrations" id="addMySensor3" onclick="toggleMySensor(this.id)" style="margin-left:5px"><label title="External data 4 concentrations" class="controls controlsLabel" style="margin-left:5px">External data 4</label>
                 <div  id="merge_data_range_label"  title="User specified range for External Data 4 (applies to all plots and map)" style="float:right;">
		   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_min_MySensor3' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
                   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_max_MySensor3' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
	         </div>
               </div>

               <!-- NOTE: External data ids are zero based, but user menus are one based   -->
               <div id="divAddMySensor4" hidden="true" style="white-space:nowrap;padding:0px;margin:0px;clear:both">
	         <input disabled="true" type="checkbox" name="addToTimeseries" title="External data 5 concentrations" id="addMySensor4" onclick="toggleMySensor(this.id)" style="margin-left:5px"><label title="External data 5 concentrations" class="controls controlsLabel" style="margin-left:5px">External data 5</label>
                 <div  id="merge_data_range_label"  title="User specified range for External Data 5 (applies to all plots and map)" style="float:right;">
		   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_min_MySensor4' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
                   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_max_MySensor4' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
	         </div>
               </div>




               
               <div style="white-space:nowrap;padding:0px;margin:0px;clear:both">
                 <input type="checkbox" name="addToTimeseries1" title="Hourly ozone concentrations (in parts per billion) reported from airnow.gov" id="addAqsOzone" onclick="toggleAqs(this.id)" style="margin-left:5px"><label title="Hourly ozone concentrations (in parts per billion) reported from airnow.gov" class="controls controlsLabel" style="margin-left:5px">AirNow O<sub>3</sub></label>
                 <div  id="merge_data_range_label1" title="User specified range for Airnow ozone (applies to all plots and map)" style="float:right;" class="controls controlsLabel">
		   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_min_AirnowO3' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
                   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_max_AirnowO3' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
	         </div>
               </div>
               
               
               <div style="white-space:nowrap;padding:0px;margin:0px;clear:both">
	         <input type="checkbox" name="addToTimeseries2" title="Hourly 2.5 micron particulate matter concentrations (in micrograms per cubic meter) reported from airnow.gov" id="addAqsPm25" onclick="toggleAqs(this.id)" style="margin-left:5px"><label title="Hourly 2.5 micron particulate matter concentrations (in micrograms per cubic meter) reported from airnow.gov" class="controls controlsLabel" style="margin-left:5px">AirNow PM<sub>2.5</sub></label>
                 <div  id="merge_data_range_label2"  title="User specified range for Airnow PM2.5 (applies to all plots and map)" style="float:right;" class="controls controlsLabel">
		   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_min_AirnowPM25' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
                   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_max_AirnowPM25' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
	         </div>
               </div>


               <div style="white-space:nowrap;padding:0px;margin:0px;clear:both;">
	         <input type="checkbox" name="addToTimeseries2" title="Hourly 10 micron particulate matter concentrations (in micrograms per cubic meter) reported from airnow.gov" id="addAqsPm10" onclick="toggleAqs(this.id)" style="margin-left:5px"><label title="Hourly 10 micron particulate matter concentrations (in micrograms per cubic meter) reported from airnow.gov" class="controls controlsLabel" style="margin-left:5px">AirNow PM<sub>10</sub></label>
                 <div  id="merge_data_range_label2"  title="User specified range for Airnow PM10 (applies to all plots and map)" style="float:right;" class="controls controlsLabel">
		   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_min_AirnowPM10' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
                   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_max_AirnowPM10' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
	         </div>
               </div>
               
                
	       <div style="white-space:nowrap;padding:0px;margin:0px;clear:both">
	         <input type="checkbox" name="addToTimeseries3"  title="Hourly carbon monoxide concentrations (in parts per million) reported from airnow.gov" id="addAqsCO" onclick="toggleAqs(this.id)" style="margin-left:5px"><label title="Hourly carbon monoxide concentrations (in parts per million) reported from airnow.gov" class="controls controlsLabel" style="margin-left:5px">AirNow CO</label>
                 <div  id="merge_data_range_label3"  title="User specified range for Airnow CO (applies to all plots and map)" style="float:right;">
		   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_min_AirnowCO' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
                   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_max_AirnowCO' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
	         </div>
               </div>
               
               
               <div style="white-space:nowrap;padding:0px;margin:0px;clear:both">
	         <input type="checkbox" name="addToTimeseries" title="Hourly nitrogen dioxide concentrations (in parts per billion) reported from airnow.gov" id="addAqsNO2" onclick="toggleAqs(this.id)" style="margin-left:5px"><label title="Hourly nitrogen dioxide concentrations (in parts per billion) reported from airnow.gov" class="controls controlsLabel" style="margin-left:5px">AirNow NO<sub>2</sub></label>
                 <div  id="merge_data_range_label"  title="User specified range for Airnow NO2 (applies to all plots and map)" style="float:right;">
		   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_min_AirnowNO2' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
                   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_max_AirnowNO2' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
	         </div>
               </div>
               
               <div style="white-space:nowrap;padding:0px;margin:0px;clear:both">
	         <input type="checkbox" name="addToTimeseries" title="Hourly sulfur dioxide concentrations (in parts per billion) reported from airnow.gov" id="addAqsSO2" onclick="toggleAqs(this.id)" style="margin-left:5px"><label title="Hourly sulfur dioxide concentrations (in parts per billion) reported from airnow.gov" class="controls controlsLabel" style="margin-left:5px">AirNow SO<sub>2</sub></label>
                 <div  id="merge_data_range_label"  title="User specified range for Airnow SO2 (applies to all plots and map)" style="float:right;">
		   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_min_AirnowSO2' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
                   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_max_AirnowSO2' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
	         </div>
               </div>
               
               <div style="white-space:nowrap;padding:0px;margin:0px;clear:both">
	         <input type="checkbox" name="addToTimeseries" title="Hourly temperature data from Meteorological Terminal Aviation Routine Weather Report stations" id="addSurfmetTemperature" onclick="toggleSurfmetTemperature()" style="margin-left:5px"><label title="Hourly temperature data from Meteorological Terminal Aviation Routine Weather Report stations" class="controls controlsLabel" style="margin-left:5px">METAR temp.</label>
                 <div  id="merge_data_range_label"  title="User specified range for METAR temperature (applies to all plots)" style="float:right;">
		   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_min_SurfmetTemperature' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
                   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_max_SurfmetTemperature' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
	         </div>
               </div>
               
               <div style="white-space:nowrap;padding:0px;margin:0px;clear:both">
	         <input type="checkbox" name="addToTimeseries" title="Hourly pressure data from Meteorological Terminal Aviation Routine Weather Report stations" id="addSurfmetPressure" onclick="toggleSurfmetPressure()" style="margin-left:5px"><label title="Hourly pressure data from Meteorological Terminal Aviation Routine Weather Report stations" class="controls controlsLabel" style="margin-left:5px">METAR pressure</label>
                 <div  id="merge_data_range_label"  title="User specified range for METAR pressure (applies to all plots)" style="float:right;">
		   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_min_SurfmetPressure' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
                   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_max_SurfmetPressure' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
	         </div>
               </div>
               
               <div style="white-space:nowrap;padding:0px;margin:0px;clear:both">                  
	         <input type="checkbox" name="addToTimeseries" title="Hourly wind speed data from Meteorological Terminal Aviation Routine Weather Report stations" id="addSurfmetWindSpeed" onclick="toggleSurfmetWindSpeed()" style="margin-left:5px"><label title="Hourly wind speed data rom Meteorological Terminal Aviation Routine Weather Report stations" class="controls controlsLabel" style="margin-left:5px">METAR wind spd.</label>
                 <div  id="merge_data_range_label"  title="User specified range for METAR wind speed (applies to all plots)" style="float:right;">
		   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_min_SurfmetWindSpeed' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
                   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_max_SurfmetWindSpeed' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
	         </div>
               </div>


               <div style="white-space:nowrap;padding:0px;margin:0px;clear:both">                  
	         <input type="checkbox" name="addToTimeseries" title="Hourly wind direction data from Meteorological Terminal Aviation Routine Weather Report stations" id="addSurfmetWindDirection" onclick="toggleSurfmetWindDirection()" style="margin-left:5px"><label title="Hourly wind direction data rom Meteorological Terminal Aviation Routine Weather Report stations" class="controls controlsLabel" style="margin-left:5px">METAR wind dir.</label>
                 <div  id="merge_data_range_label"  title="User specified range for METAR wind direction (applies to all plots)" style="float:right;">
		   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_min_SurfmetWindDirection' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
                   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls" id='merge_max_SurfmetWindDirection' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
	         </div>
               </div>

               
               
               <div style="white-space:nowrap;padding:0px;margin:0px;clear:both">                  
                 <input disabled="true" type="checkbox" name="addToTimeseries" title="Hourly 2.5 micron particulate matter concentrations (in micrograms per cubic meter) reported from purpleair.com" id="addPurpleairPM25" onclick="togglePurpleairPM25()" style="margin-left:5px"><label title="Hourly 2.5 micron particulate matter concentrations (in micrograms per cubic meter) reported from purpleair.com" class="controls controlsLabel" style="margin-left:5px">Purpleair PM<sub>2.5</sub></label>
                 <div  id="merge_data_range_label"  title="User specified range for Purpleair PM2.5 (applies to all plots and map)" style="float:right;">
		   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls controlsLabel" id='merge_min_PurpleairPM25' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
                   <input style="border:1px solid gray;background:#FFFFFF;font-size:10px;white-space:nowrap;padding:0px;margin:0px;" class="controls controlsLabel" id='merge_max_PurpleairPM25' type='text' size='3' onkeypress='validate_merge_minmax(event)' onfocusout='validate_merge_minmax(event)'>
	         </div>
               </div>
	       
            </div>
	    <div id="MyDataDiv" style="position:absolute;width:238px;margin-top:0px;background:#EBF2F7;">

	      <!-- Toolbar/main controls -->
	      <div class="controls" style="border:1px solid black;">
		<style>
		.controls {
		  font-size: 12px;
		  /*margin: 0px 0px 0px 0px;*/
		  /*padding-left:5px;*/
		  background:#EBF2F7;
		  /* the following ensures they're all using the same box-model for rendering */
		  /*-moz-box-sizing: content-box; */
		  /*-webkit-box-sizing: content-box; */
		  /*box-sizing: content-box; */
                }
                .controlsLabel {
                  margin-top:0px !important;
                  margin-bottom:0px !important;
                  padding-top:0px !important;
                  padding-bottom:0px !important;
                  background:#EBF2F7;
                }
 
		</style>
		<table>
		  <tr>
		  <!--td><div id="home_b" onclick="setHome()"></div></td-->
		  <td><div id="home_b"   onclick="setHome()"  onkeydown="setHomeKeypress(event)"   title="Reset map" ></div></td>
		  <td><div id="hand_b"   onclick="grabMode()" onkeydown="handKeypress(event)" title="Drag map"></div></td>
		  <td><div id="marker_b" onclick="placeMarker()" title="Create analysis marker"></div></td>
		  <td><div id="line_b"   onclick="startLine()"   title="Create analysis line"></div></td>
		  <td><div id="crop_b"   onclick="startCrop(event)"   title="Crop region"></div></td>
		</table>
                <hr style="margin:1px">
                <b><div style="text-align:center;">Plot options</div></b>
		<input style="margin-left:5px;" type="checkbox" name="mapOptionButton" title="Toggle Google Map with embedded data" id="mapOptionButton" checked=true onclick=select_display();><label class="controls controlsLabel" title="Toggle Google Map with embedded data">&nbsp;Show map</label><br>
		<input style="margin-left:5px;" type="checkbox" name="analysisPlotOptionButton" title="Visualize your data as a function of distance&#13;to a line or point that you place on the map" id="analysisPlotOptionButton" onclick=select_display();><label title="Visualize your data as a function of distance&#13;to a line or point that you place on the map" class="controls controlsLabel">&nbsp;Show analysis plot</label><br>
		<input style="margin-left:5px;" type="checkbox" name="timeseriesPlotOptionButton" title="Visualize your data variables over time" id="timeseriesPlotOptionButton" checked=true onclick=select_display();><label class="controls controlsLabel" title="Visualize your data variables over time">&nbsp;Show timeseries plot</label><br>
                <input style="margin-left:5px;" type="checkbox" name="scatterPlotOptionButton" title="Plot one variable versus another" id="scatterPlotOptionButton" onclick=select_display();><label title="Plot one variable versus another" class="controls controlsLabel">&nbsp;Show scatter plot</label><br>
		<input style="margin-left:5px;" type="checkbox" name="windrosePlotOptionButton" title="Visualize your wind and pollution data on a polar plot" id="windrosePlotOptionButton" disabled="true"  onclick=select_display();><label class="controls controlsLabel" title="Visualize your wind and pollution data on a polar plot">&nbsp;Show wind-pollution plot</label><br>
		<!--input type="checkbox" name="kmlPlotOptionButton" id="kmlPlotOptionButton" title="Toggle KML layer if imported" disabled onclick=select_display();><label class="controls controlsLabel">&nbsp;Show KML layer</label><br-->
		<input style="margin-left:5px;" type="checkbox" name="connectingLineOptionButton" title="Add a line to the map connecting the different locations measured" id="connectingLineOptionButton" onclick=update_map(lastpos);><label class="controls controlsLabel" title="Add a line to the map connecting the different locations measured">&nbsp;Show connecting line</label><br>
		<!--input type="checkbox" name="interpolateOptionButton" id="interpolateOptionButton" onclick=update_map(lastpos);><label> Interpolate data</label><br-->
		<input style="margin-left:5px;" type="checkbox" title="Show the map marker pin" id="showGooglePin" checked="checked" onclick=update_map(lastpos);><label class="controls controlsLabel" title="Show the map marker pin">&nbsp;Show map marker</label><br>

		<input style="margin-left:5px;" type="checkbox" title="Show map colorbars" id="showMapColorbars" checked="checked" onclick=update_map(lastpos);><label class="controls controlsLabel" title="Show colorbars on map">&nbsp;Show map colorbars</label><br>

                <input style="margin-left:5px;" type="radio" name="radiobutton_displaychoice" title="Show all data points on the map at once" id="displaychoiceAll" onclick=update_map(lastpos) checked=true;><label class="controls controlsLabel" title="Show all data points on the map at once">&nbsp;Show all points on map</label><br>
		<input style="margin-left:5px;" type="radio" name="radiobutton_displaychoice" title="Show only the selected data point on the map" id="displaychoiceSingle" onclick=update_map(lastpos);><label class="controls controlsLabel"  title="Show only the selected data point on the map">&nbsp;Single point on map</label><br>
		<table>
		  <tr>
		    <td>
		      <label class="controls controlsLabel" style="margin-left:5px">Plot height:&nbsp;&nbsp;</label>
		    </td>
		    <td width="60%">
		      <div name="map_size" title="Slide to change the vertical extent of the map and plots" id="map_size" onkeyup="activateMapSlider(event)" style="margin:5px;background:#FFFFFF;position:relative;height:8px;width:100%;">
		      </div>
		    </td>
		  
		  </tr>
		</table><br>
	      </div>
	    
              <!-- ID controls - items will be appended dynamically in read_userfile.js -->
              <div class="controls controlsLabel" style="border:1px solid black;border-top:none">
                <b><div style="text-align:center;">Identifier selection</div></b>
		<div class="controls controlsLabel" id="id_selector_label" title="IDs are defined in the RETIGO file" style="margin-left:5px;">Identifier:
		  <input style="background:#FFFFFF" class="controls controlsLabel" type="button" Value="All"  title="Automatically select all IDs" id="idSelectAll" onclick="id_select_all()">
		  <input style="background:#FFFFFF" class="controls controlsLabel" type="button" Value="None" title="Automatically deselect all IDs" id="idSelectNone" onclick="id_select_none()">
		</div>
		<div class="controls controlsLabel" id="id_selector" style="height:120px;overflow:auto;margin-left:5px"></div>
	      </div>
	    

	      <!-- Time controls - items will be appended dynamically in read_userfile.js -->
              <div class="controls controlsLabel" style="border:1px solid black;border-top:none;">
                <b><div style="text-align:center;">Time range</div></b>
		<div class="controls controlsLabel" id="tb_selector_label" title="Time viewing mode" style="line-height:0;padding-bottom:0px;margin-bottom:0px;margin-left:5px">Time range:
		  <input class="controls controlsLabel" type="radio" name="timestyle" title="Data are shown as time averages, to reduce the number of data points shown to 1000" id="Average" onclick="process_timestyle()" checked=true;><label for="Average" title="Data are shown as time averages, to reduce the number of data points shown to 1000">Avg</label>
		  <input class="controls controlsLabel" type="radio" name="timestyle" title="Original data are shown, with the time series shown 1000 points per time block" id="Blocks" onclick="process_timestyle()"><label for="Blocks" title="Original data are shown, with the time series shown 1000 points per time block">Block</label>
		</div>
		<div style="padding:0;margin:0">
		  <input class="controls controlsLabel" type="checkbox" disabled="true" id="multipleTimeblockOption" onchange='enableExtendedBlocks()' title="Enables seeing multiple adjacent blocks of 1000 original data points, starting with the selected time block" style="margin-left:5px">
		  <label for="multipleTimeblockOption" title="Enables seeing multiple adjacent blocks of 1000 original data points, starting with the selected time block">&nbsp;Extend blocks: </label>
		  <input style="background:#FFFFFF;width:3em" id='extendBlocks' type='number' min="1" max="5" step="1" value="2" onchange='updateExtendedBlocks()' title="Enables seeing multiple adjacent blocks of 1000 original data points, starting with the selected time block"> 
		</div>
		<div id="tb_selector" style="height:70px;overflow:auto;margin-left:5px">
		</div>
	      </div>
	  
	      <div style="border:1px solid black;border-top:none">
                <b><div class="controls controlsLabel" style="text-align:center;">Variable and colormap</div></b>
                <table class="controls controlsLabel" id="colormap_table" width="95%" style="margin-left:5px">
	          <tr>
	            <td nowrap class="controls controlsLabel" id="colormap_td" style="padding-top:5px;padding-bottom:5px;white-space:nowrap;">Colormap: 
	              <select id="colormap_list" onchange="changeColormap()" title="Colormap options for displaying your data" style="width:120px;">
                        <option id="cm_bluered">BlueRed</option>
                        <option id="cm_stdgamma">StdGamma</option>
                        <option id="cm_stdgamma_inverted">StdGamma_Inverted</option>
	                <option id="cm_bluemono">BlueMono</option>
                        <option id="cm_viridis">Viridis</option>
                        <option id="cm_viridis_inverted">Viridis_Inverted</option>
                        <option id="cm_colorsafe">ColorSafe</option>
                        <option id="cm_colorsafe_inverted">ColorSafe_Inverted</option>
                      </select>
	            </td>
	          </tr>
                </table>

                <!--center-->
		<div class="controls controlsLabel" id="data_range_label" style="margin-left:5px;" title="User specified range for each variable">Data range:<br>
                  <center>
		    <!--label class="controls" for="my_min">min:</label--><input style="background:#FFFFFF" class="controls controlsLabel" id='my_min' type='text' size='5' onkeypress='validate_number(event)' onfocusout='validate_number(event)' title="Data range minimum">
		    &nbsp;to&nbsp;&nbsp;<!--label class="controls" for="my_max">max:</label--><input style="background:#FFFFFF" class="controls controlsLabel" id='my_max' type='text' size='5' onkeypress='validate_number(event)' onfocusout='validate_number(event)' title="Data range maximum">
                  </center>
		</div>
                <!--/center-->
                
		<div class="controls controlsLabel" id="var_selector_label" style="padding-top:5px;margin-left:5px;">Select variable to display:</div>
		<div class="controls controlsLabel" id="var_selector" title="Select a variable" style="margin-left:5px">
		  <!-- default button set after data is loaded-->
		  <input type="radio" name="radiobutton_vars" id="radio0"  onclick=process_radio();> <label class="controls controlsLabel" id="var0"></label><br>
		  <input type="radio" name="radiobutton_vars" id="radio1"  onclick=process_radio();> <label class="controls controlsLabel" id="var1"></label><br>
		  <input type="radio" name="radiobutton_vars" id="radio2"  onclick=process_radio();> <label class="controls controlsLabel" id="var2"></label><br>
		  <input type="radio" name="radiobutton_vars" id="radio3"  onclick=process_radio();> <label class="controls controlsLabel" id="var3"></label><br>
		  <input type="radio" name="radiobutton_vars" id="radio4"  onclick=process_radio();> <label class="controls controlsLabel" id="var4"></label><br>
		  <input type="radio" name="radiobutton_vars" id="radio5"  onclick=process_radio();> <label class="controls controlsLabel" id="var5"></label><br>
		  <input type="radio" name="radiobutton_vars" id="radio6"  onclick=process_radio();> <label class="controls controlsLabel" id="var6"></label><br>
		  <input type="radio" name="radiobutton_vars" id="radio7"  onclick=process_radio();> <label class="controls controlsLabel" id="var7"></label><br>
		  <input type="radio" name="radiobutton_vars" id="radio8"  onclick=process_radio();> <label class="controls controlsLabel" id="var8"></label><br>
		  <input type="radio" name="radiobutton_vars" id="radio9"  onclick=process_radio();> <label class="controls controlsLabel" id="var9"></label><br>
		  <input type="radio" name="radiobutton_vars" id="radio10" onclick=process_radio();> <label class="controls controlsLabel" id="var10"></label><br>
		  <input type="radio" name="radiobutton_vars" id="radio11" onclick=process_radio();> <label class="controls controlsLabel" id="var11"></label><br>
		  <input type="radio" name="radiobutton_vars" id="radio12" onclick=process_radio();> <label class="controls controlsLabel" id="var12"></label><br>
		  <input type="radio" name="radiobutton_vars" id="radio13" onclick=process_radio();> <label class="controls controlsLabel" id="var13"></label><br>
		  <input type="radio" name="radiobutton_vars" id="radio14" onclick=process_radio();> <label class="controls controlsLabel" id="var14"></label><br>
		</div>
	      </div>
            </div> <!-- end MyDataDiv -->


<div class="controls controlsLabel" id="SettingsDiv" style="background:#EBF2F7;position:absolute;visibility:hidden;border:1px solid black;width:238px;margin-top:0px;clear:both">
  <span><center><b>2D Plot options</b></center></span>
  <br>

  <label class="controls controlsLabel">&nbsp;Font size:</label>
  <input class="controls controlsLabel" style="background:#FFFFFF;width:4.5em;margin-right:5px;" id='fontSize' type='number' min="8" max="18" step="1" value="12" onchange='updateSettings(this)' title="Menu font size"><br>
     
  <input class="controls controlsLabel" type="checkbox" name="plot_symbolfill" id="plot_symbolfill" title="Filled symbols" onclick=updateSettings(this); defaultChecked=false; style="margin-left:5px"><label class="controls controlsLabel">&nbsp;Filled symbols</label><br>
  <input class="controls controlsLabel" type="checkbox" id="plot_logoption" title="Toggle logarithmic y-axis" onclick=updateSettings(this); defaultChecked=false; style="margin-left:5px"><label class="controls controlsLabel">&nbsp;Log axis</label>
  <table class="controls controlsLabel" id="plotColors" width="100%"">
    <tr>
      <td nowrap class="controls controlsLabel" id="plotPrimaryColor_td" style="padding-top:0px;padding-bottom:5px;white-space:nowrap;margin-left:5px">Pri. color:
      </td>
      <td>
	<select id="primaryColormap_list" onchange="updateSettings(this)" title="Color options for displaying your data in 2D plots" style="width:90px;">
          <option id="color_primaryDatavalue" selected>Data value</option>
          <option id="color_primaryLightblue">Lt. Blue</option>
          <option id="color_primaryDarkBlue">Dk. Blue</option>
          <option id="color_primaryRed">Red</option>
          <option id="color_primaryMaroon">Maroon</option>
	  <option id="color_primaryGreen">Green</option>
          <option id="color_primaryOrange">Orange</option>
          <option id="color_primaryBlack">Black</option>
          <option id="color_primaryGray90">Gray90</option>
          <option id="color_primaryGray80">Gray80</option>
          <option id="color_primaryGray70">Gray70</option>
          <option id="color_primaryGray60">Gray60</option>
          <option id="color_primaryGray50">Gray50</option>
          <option id="color_primaryGray40">Gray40</option>
          <option id="color_primaryGray30">Gray30</option>
          <option id="color_primaryGray20">Gray20</option>
          <option id="color_primaryGray10">Gray10</option>
        </select>
      </td>
      <td>
        <input class="controls controlsLabel" style="background:#FFFFFF;width:4em;float:right;margin-right:5px;" id='plotPrimaryOpacity' type='number' min="10" max="100" step="10" value="100" onchange='updateSettings(this)' title="Opacity of your data in 2D plots"><br>
      </td>
    </tr>
    
    <tr>
      <td nowrap class="controls controlsLabel" id="plotPrimaryStyle_td" style="padding-top:0px;padding-bottom:5px;white-space:nowrap;margin-left:5px">Pri. style:
      </td>
      <td>
	<select id="primaryStyle_list" onchange="updateSettings(this)" title="Symbol options for displaying your data in 2D plots" style="width:90px;">
          <option id="symbol_primaryPoints" selected>Points</option>
          <option id="symbol_primaryLine" >Line</option>
          <option id="symbol_primaryLineAndPoints" >Line and Points</option>
        </select>
      </td>
    </tr>

    
    <tr>
      <td nowrap class="controls controlsLabel" id="plotSecondaryColor_td" style="padding-top:0px;padding-bottom:5px;white-space:nowrap;margin-left:5px">Sec. color:
      </td>
      <td>
	<select id="secondaryColormap_list" onchange="updateSettings(this)" title="Color options for displaying merged data in 2D plots" style="width:90px;">
          <option id="color_secondaryLightblue">Lt. Blue</option>
          <option id="color_secondaryDarkBlue">Dk. Blue</option>
          <option id="color_secondaryRed">Red</option>
          <option id="color_secondaryMaroon" selected>Maroon</option>
	  <option id="color_secondaryGreen">Green</option>
          <option id="color_secondaryOrange">Orange</option>
          <option id="color_secondaryBlack">Black</option>
          <option id="color_secondaryGray90">Gray90</option>
          <option id="color_secondaryGray80">Gray80</option>
          <option id="color_secondaryGray70">Gray70</option>
          <option id="color_secondaryGray60">Gray60</option>
          <option id="color_secondaryGray50">Gray50</option>
          <option id="color_secondaryGray40">Gray40</option>
          <option id="color_secondaryGray30">Gray30</option>
          <option id="color_secondaryGray20">Gray20</option>
          <option id="color_secondaryGray10">Gray10</option>
        </select>
      </td>
      <td>
        <input class="controls controlsLabel" style="background:#FFFFFF;width:4em;float:right;margin-right:5px;" id='plotSecondaryOpacity' type='number' min="10" max="100" step="10" value="100" onchange='updateSettings(this)' title="Opacity of merged data in 2D plots"><br>
      </td>
    </tr>
    <tr>
      <td nowrap class="controls controlsLabel" id="plotSecondaryStyle_td" style="padding-top:0px;padding-bottom:5px;white-space:nowrap;margin-left:5px">Sec. style:
      </td>
      <td>
	<select id="secondaryStyle_list" onchange="updateSettings(this)" title="Symbol options for displaying your data in 2D plots" style="width:90px;">
          <option id="symbol_secondaryPoints" selected>Points</option>
          <option id="symbol_secondaryLine" >Line</option>
          <option id="symbol_secondaryLineAndPoints" >Line and Points</option>
        </select>
      </td>
    </tr>
    <!--tr>
      <td nowrap class="emvlSettings" id="plotFontSize" style="padding-top:0px;padding-bottom:5px;white-space:nowrap;">Font size:
      </td>  
      <td>
        <input style="background:#FFFFFF;width:4.5em;margin-right:5px;font-size:10px" id='fontSize' type='number' min="6" max="18" step="1" value="12" onchange='updateSettings(this)' title="Menu font size"><br>
      </td>
    </tr-->
  </table>
</div>
	  </td>
        </tr>
      </table>


<div style="margin-top:20px">
  <!-- Timeseries plot -->
  <hr id="timeseries_divider" style="margin:0;padding:0">
	    <div id="ts_canvas">
	      <div name="print" title="Timeseries plot" id="timeseries_canvas" style="height:100%;width:0px;margin:0px;padding:0px;font-size:14px;">
                <!--input class="plotControls" type="checkbox" name="timeseries_symbolfill" id="timeseries_symbolfill" title="Filled symbols" onclick=update_timeseriesPlot(); defaultChecked=false;><label class="plotControls"> Filled symbols</label-->
                <span>
                  <input class="plotControls" type="checkbox" name="timeseriesHourlyOption" id="timeseriesHourlyOption" title="View hourly averaged data" onclick=update_timeseriesPlot(); defaultChecked=false;><label class="plotControls"> Hourly Avg.</label>
                </span>

                <span style="float:right;" class="emvlDropdown dropdown">
                  <button class="btn btn-primary btn-sm emvlDropdown-toggle dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Export...
                  </button>
                  <div class="emvlDropdown-menu dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <a class="emvlDropdown-item dropdown-item" onclick="saveCanvas('timeseries_canvas2', 'retigo_timeseries.png')" >Save image</a>
                  </div>
                </span><br>


                
                
                <!--input class="plotControls" type="checkbox" id="timeseries_logoption" title="Toggle logarithmic y-axis" onclick=update_timeseriesPlot(); defaultChecked=false;><label class="plotControls">Log</label><br-->
	        
                <input class="plotControls" type="checkbox" id="timeseries_Xaxisoption" title="Constrain x-axis (percentage of full time range)" onclick=process_Xaxisoption(event); defaultChecked=false;><label class="plotControls" for="timeseries_Xmin">Xrange (%): </label>
	        <input class="plotControls" id="timeseries_Xmin" type='text' size='4' disabled onkeypress='validate_axis(event)'>
	        &nbsp;<input class="plotControls" id="timeseries_Xmax" type='text' size='4' disabled onkeypress='validate_axis(event)'><br>
	        
	        <input class="plotControls" type="checkbox" id="timeseries_separateByID" title="Separate by ID is limited to the first 5 checked IDs" onclick=toggle_timeseriesSeparateByID(); defaultChecked=false;><label class="plotControls">Separate by ID</label><br>
	        
	        &nbsp;<label class="plotControls" for="timeseries_secondVar">2nd variable: </label>
	        <select id="timeseries_secondVar" title="Add second variable to plot" onchange="update_timeseriesPlot()" style="width:120px;font-size: 10px;"></select>
	        
	        <!--button align="right" type="button" style="font-size:10px;float:right;margin-right:10px" onclick="saveCanvas('timeseries_canvas2', 'retigo_timeseries.png')" >Save image</button><br-->
                
	        <div id="wrapperTimeseries" style="position:relative;height:90%;width:100%;margin:0px">
                  
	          <div name="print" id="timeseries_canvas2" style="height:100%;width:100%;margin:0px;">
	          </div>
                  <div id="busyTimeseries" style="position:absolute;top:50px;right:50px;z-index:10000;visibility:hidden;font-size:34px;background-color:rgba(100,100,100,0.4);border-radius:10px;padding-left:10px;padding-right:10px;margin:0;border:0px">Busy&nbsp;&nbsp;&nbsp;
	            <div id="loader" class="loader" style="position:absolute;right:10px;display:inline-block;margin-top:5px;margin-left:60px"></div>
                    <div id="busyTimeseriesWaitTime" style="font-size:14px;min-width:150px"><i>Please be patient</i></div>
                    
                  </div>
                </div>
              </div>
	    </div>
</div>




  </div> <!--// div_printarea //-->
  <br><br>
  <div style="font-size:14px;margin-top:10px">
    <label style="leftmargin:20px;display:block;align:left;" for="error_textarea">RETIGO information, warnings, and errors: </label>
    <textarea readonly id="error_textarea" title="Errors, warnings, and other messages are displayed here" rows="5" spellcheck="false" style="font-family:courier;width:80%;leftmargin:20px;resize:none;display:block;align:left" value=""  ></textarea>
  </div>
  <script>

  // initialize menus and buttons to default
  var timezonelist  = document.getElementById("timezoneList");
  timezonelist[0].selected = true;

  var displaychoice  = document.getElementById("displaychoiceAll");
  displaychoice.checked = true;

  // set up the time slider
  //try{
  //  var slider = new dhtmlxSlider("sliderbox", {skin: "arrowgreen", min: 0, max:10, step: 1, size:600, vertical: false});
  //  slider.attachEvent("onChange", slider_handler);
  //  //slider.attachEvent("onChange", slider_config);
  //  slider.init();
  //} catch (err) {alert(err);}
  </script>
</div> <!--// div_dataDisplay //-->


<div id="div_fileSelection" style="width:100%;display:block">

  <!--font face='Courier' size=3-->
  <p>

    <form action='#' onsubmit="return false" style="margin:0px">

      <div id="divFileSelection">

	<div class="col-md-12" style="background:#D8E5EF;">
	  <div style="background:#D8E5EF; margin:20px 0px 0px 20px">
	    <!--div id="feedbackAreaDiv" style="box-sizing:border-box;height:100%;width:100%;position:relative;overflow:auto;background-color:#D8E5EF"-->
	      <!--label style="leftmargin:20px;display:block;align:left;" for="feedback_textarea">Leave us your feedback (256 characters max.): </label-->
	      <!--textarea id="feedback_textarea" rows="5"  style="width:100%;leftmargin:20px;resize:none;display:block;align:left" value="" onpaste="disablePaste(event)"  onkeypress="validateKeyParagraph(event)" maxlength="256"  ></textarea-->

              <!--input type="button" value="Send" onClick="sendFeedback()"-->
              <!--input type="button" value="Cancel" onClick="cancelFeedback()"-->

	    <!--/div-->
	    <br>

	    <h5>View a data file</h5><br>
	    You may choose your own file to view, or pick one from the public data repository.<br><br>
	    <font size="-1">
	      NOTE: Data files in the repository are <b>NOT QUALITY CHECKED</b> and are in no way endorsed or verified by the US Environmental Protection Agency. The repository is simply a service offered to RETIGO users to share data. The data in the repository is provided on an AS-IS basis.
	    </font><br><br>

	    <font size="+0">

              
	      <input type="radio" id="btnLocalFile"  name="fileType" checked="true">
              <table style="display:inline">
                <tr>
                  <td>&nbsp;&nbsp;Your file:</td>
	          <td><input type="file" name="Data_file" id=user_datafile1 size=60></td>
                </tr>
                <tr>
                  <td>&nbsp;&nbsp;Optional file:&nbsp;&nbsp;</td>
                  <td><input type="file" name="Data_file" id=user_datafile2 size=60></td>
                </tr>
              </table>
	      <br><br>

              
	      <input type="radio" id="btnRepositoryFile" name="fileType">  Repository: <select style="height:35px;" id="downloadFileMenu" onchange="setMenuTitle()"><option>Choose File</option></select>
	      <select style="height:35px; " id=downloadFileMenuSort onchange="get_fileList()">
		<option selected="selected">Sort by Date</option>
		<option>Sort by Place</option>
	      </select>
	      <!--input type="button" class="expander" id="filterSettingsButton" value="Advanced"></input-->
	      <button style="" type="button" class="btn btn-primary expander btn-sm" id="filterSettingsButton">Advanced</button>

	      <!--a class="expander" href="#">Filter Settings</a-->
	      <div class="content" style="padding-left: 25px;">
		<font face='Courier' size=2>
		  <input type="radio" name="radiobutton_filter1" id="filterAll" checked=true>  Show All Files<br>
		  <input type="radio" name="radiobutton_filter1" id="filterCustom">  Only Show Files Containing:<br>
		  <div id="filterSettings"  style="padding-left: 25px;">
		    <pre style="margin-bottom:5px">
Project code: <input tabindex="34" type="text" disabled="true" id="filterProjectCode" value="" maxlength="20" size="35" onpaste="disablePaste(event)" onkeypress='validate_filterInput(event)'>
Keywords:     <input tabindex="35" type="text" disabled="true" id="filterKeywords" value="" maxlength="20" size="35" style="margin-top:5px" onpaste="disablePaste(event)" onkeypress='validate_filterInput(event)'>
		    </pre>
		    <input name="dataType" type="checkbox" disabled="true" onclick="applyFileFilter()" id="load_PM25" > Fine particulate matter (PM<sub>2.5</sub>)<br>
		    <input name="dataType" type="checkbox" disabled="true" onclick="applyFileFilter()" id="load_PM10"  > Coarse particulate matter (PM<sub>10</sub>)<br>
		    <input name="dataType" type="checkbox" disabled="true" onclick="applyFileFilter()" id="load_Ultrafine" > Ultrafine particles<br>
		    <input name="dataType" type="checkbox" disabled="true" onclick="applyFileFilter()" id="load_PMBC" > PM-black carbon<br>
		    <input name="dataType" type="checkbox" disabled="true" onclick="applyFileFilter()" id="load_PMOrganic" > PM-organic carbon<br>
		    <input name="dataType" type="checkbox" disabled="true" onclick="applyFileFilter()" id="load_PMAromatic" > PM-particle-bound polycyclic aromatic hydrocarbons (PAH)<br>
		    <input name="dataType" type="checkbox" disabled="true" onclick="applyFileFilter()" id="load_PMOther" > PM-other<br>
		    <input name="dataType" type="checkbox" disabled="true" onclick="applyFileFilter()" id="load_CO" > Carbon monoxide (CO)<br>
		    <input name="dataType" type="checkbox" disabled="true" onclick="applyFileFilter()" id="load_CO2" > Carbon dioxide (CO<sub>2</sub>)<br>
		    <input name="dataType" type="checkbox" disabled="true" onclick="applyFileFilter()" id="load_NO" > Nitrogen oxide (NO)<br>
		    <input name="dataType" type="checkbox" disabled="true" onclick="applyFileFilter()" id="load_NO2" > Nitrogen dioxide (NO<sub>2</sub>)<br>
		    <input name="dataType" type="checkbox" disabled="true" onclick="applyFileFilter()" id="load_NOX" > Nitrogen oxides (NO<sub>x</sub>)<br>
		    <input name="dataType" type="checkbox" disabled="true" onclick="applyFileFilter()" id="load_SO2" > Sulphur dioxide (SO<sub>2</sub>)<br>
		    <input name="dataType" type="checkbox" disabled="true" onclick="applyFileFilter()" id="load_O3" > Ozone (O<sub>3</sub>)<br>
		    <input name="dataType" type="checkbox" disabled="true" onclick="applyFileFilter()" id="load_CH4" > Methane (CH<sub>4</sub>)<br>
		    <!--input name="dataType" type="checkbox" disabled="true" onclick="applyFileFilter()" id="Gas" > Gasses - other<br-->
		    <input name="dataType" type="checkbox" disabled="true" onclick="applyFileFilter()" id="load_Wind" > Wind speed and direction<br>
		    <input name="dataType" type="checkbox" disabled="true" onclick="applyFileFilter()" id="load_Other" > Other<br>
		  </div>
		</font>
	      </div>
	    </font>
	  </div>
	    
	  <div style="background:#D8E5EF; margin:20px 0px 0px 20px">
	    <!--input type="button" value="Clear" onclick='formClear1();'></input-->
	    <!--input type="button" value="View" onclick='formEvaluate();'></input-->
	    <button type="button" class="btn btn-outline-primary" onclick='formClear1();'>Clear</button>
	    <button type="button" class="btn btn-primary" onclick='formEvaluate();'>View</button>
	    <br><br>
	  </div>
	  <br>
	</div>

	<div  class="col-md-12">
	  <br>
	  <p>OR...</p>
	</div>

	<div  class="col-md-12" style="background:#D8E5EF;">
	  <div style="margin:20px 20px 20px 20px">
	    <br>
	    <h5>Share a data file</h5><br>
	    You may upload a data file into the RETIGO data repository for other people to view.<br><br>
	    
	    <font size=3>

	      Perhaps you are interested in sharing your data for  project teammates to easily access, or with the broader public for others to explore environmental data.   You are welcome to store your RETIGO-formatted data here.  Please note the following conditions apply:<br><br>
	      
	      <ul>
		<li> We ask for some information about you and your measurements &ndash; we will use the information about your measurements to allow others to search for your data.  Your contact information is for us to be able to contact you if needed about your data and will never be shared.</li><br><br>
		<li> Any data you do provide will be made available to RETIGO users via our data search page.   We do not have private data storage available at this time, so please only share your data with the full understanding that it will be made open access.</li>
	      </ul>
	      
	      
	      <b>Terms and Conditions:</b><br><br>
	      <ul>
		<li> It is the responsibility of the user to format their data according to RETIGO standards and verify the quality of their data.  Uploading data to RETIGO does not indicate any level of quality assurance nor endorsement of the data by the U.S. Environmental Protection Agency.</li><br><br>
		<li> It is the responsibility of the user to read and evaluate the limitations and intended use of the RETIGO data visualization tool.</li><br><br> 
		<li> Any data uploaded to RETIGO will be made open access and there is no private access option. Personal identifiers or sensitive data should not be incorporated into a data set published for open access. The U.S. Environmental Protection Agency reserves the right to remove uploaded data or deny access to upload data at any time.</li><br><br>
		  <li> Neither EPA, EPA contractors, nor any other organizations cooperating with EPA assume any responsibility for damages or other liabilities related to the accuracy, availability, use or misuse of the data provided by the user.</li>
	      </ul>
	      <!-- acceptTerms() is defined in data_repository.js -->
	      
	      <!--input id="acceptTermsButton" type="button" value="Accept Terms and Conditions" onclick='repo.acceptTerms();'></input-->
	      <button type="button" class="btn btn-primary btn-sm" id="acceptTermsButton" onclick='repo.acceptTerms();'>Accept Terms and Conditions</button>
	      
	      <div id="acceptCheckmark" style="display:none">
		&#9989;
	      </div>
	    </font>
	  </div>
	</div>

	<!--#include file="data_repository_form.html" -->
      </div>




      <div style="background:#EBF2F7; visibility:hidden">
	Optional wind data file:<br>
	<input type="file" name="Data_file" id="user_datafile2" size=60>
	<input type="button" value="Clear" onclick='formClear2()' id="formClear2Btn"><br><br>
	Optional KML url:<br><input type="url" name="user_kmlfile" checked=false placeholder="Enter a URL" id="user_kmlfile" size=60><br><br>
      </div><br>
      <div style="background:#EBF2F7; visibility:hidden">
	<input type="checkbox" name="showWeather" id="showWeather"><label> Show weather condition summary</label>
	<br><br>Also show nearby monitoring station data:<br><br>
	<input type="radio" name="radiobutton_set1" id="None"         value="None" checked=true>  None<br>
	<input type="radio" name="radiobutton_set1" id="Airnow_ozone" value="Airnow_ozone">  Ozone - <a href="http://www.airnow.gov">AirNow</a><br>
	<input type="radio" name="radiobutton_set1" id="Airnow_pm25"  value="Airnow_pm25">   PM<sub>2.5</sub> - <a href="http://www.airnow.gov">AirNow</a><br>
	<input type="radio" name="radiobutton_set1" id="Airnow_no2"   value="Airnow_no2">    NO<sub>2</sub> - <a href="http://www.airnow.gov">AirNow</a><br>
	<input type="radio" name="radiobutton_set1" id="Airnow_so2"   value="Airnow_so2">    SO<sub>2</sub> - <a href="http://www.airnow.gov">AirNow</a><br>
	<input type="radio" name="radiobutton_set1" id="Airnow_co"    value="Airnow_co">     CO<sub>2</sub> - <a href="http://www.airnow.gov">AirNow</a><br>
	<input type="radio" name="radiobutton_set1" id="Surfmet_temperature" value="Surfmet_temperature">  Surface temperature - <a href="https://www.wmo.int/pages/prog/www/OSY/Gos-components.html">World Meteorological Organization</a><br>
      </div>
      
    </form>
</div>

<br>


      <!-- Bootstrap core JavaScript
      ================================================== -->
      <!-- Placed at the end of the document so the pages load faster -->
      


      <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
      <!--script src="../../assets/js/ie10-viewport-bug-workaround.js"></script-->
      </div> <!-- matches content div in bootstrap_header.html -->
    </body>
  </head>
</html>
